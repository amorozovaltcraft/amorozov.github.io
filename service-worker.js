/*! For license information please see service-worker.js.LICENSE.txt */
(function(){var e={752:function(e,t,r){"use strict";var n;n={value:true};var i=r(628);var o=r(313);var a;var s=(a={},a["no-app"]="No Firebase App '{$name}' has been created - "+"call Firebase App.initializeApp()",a["bad-app-name"]="Illegal App name: '{$name}",a["duplicate-app"]="Firebase App named '{$name}' already exists",a["app-deleted"]="Firebase App named '{$name}' already deleted",a["duplicate-service"]="Firebase service named '{$name}' already registered",a["invalid-app-argument"]="firebase.{$name}() takes either no argument or a "+"Firebase App instance.",a);var u=new o.ErrorFactory("app","Firebase",s);function c(e,t){throw u.create(e,t)}var f="[DEFAULT]";var l=[];var d=function(){function e(e,t,r){this.firebase_=r;this.isDeleted_=false;this.services_={};this.name_=t.name;this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||false;this.options_=o.deepCopy(e);this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e);setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){l=l.filter((function(t){return t!==e}))}}}Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){this.checkDestroyed_();return this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_();this.automaticDataCollectionEnabled_=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){this.checkDestroyed_();return this.name_},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"options",{get:function(){this.checkDestroyed_();return this.options_},enumerable:true,configurable:true});e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_();t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];for(var r=0,n=Object.keys(e.services_);r<n.length;r++){var i=n[r];for(var o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}}return Promise.all(t.map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=true;e.services_={}}))};e.prototype._getService=function(e,t){if(t===void 0){t=f}this.checkDestroyed_();if(!this.services_[e]){this.services_[e]={}}if(!this.services_[e][t]){var r=t!==f?t:undefined;var n=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),r);this.services_[e][t]=n}return this.services_[e][t]};e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e);if(e.INTERNAL&&e.INTERNAL.addAuthTokenListener){l.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)}));l=[]}};e.prototype.checkDestroyed_=function(){if(this.isDeleted_){c("app-deleted",{name:this.name_})}};return e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){var t={};var r={};var n={};var i={__esModule:true,initializeApp:u,app:s,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:d,removeApp:a,factories:r,useAsService:v}};o.patchProperty(i,"default",i);Object.defineProperty(i,"apps",{get:l});function a(e){var r=t[e];p(r,"delete");delete t[e]}function s(e){e=e||f;if(!h(t,e)){c("no-app",{name:e})}return t[e]}o.patchProperty(s,"App",e);function u(r,n){if(n===void 0){n={}}if(typeof n!=="object"||n===null){var o=n;n={name:o}}var a=n;if(a.name===undefined){a.name=f}var s=a.name;if(typeof s!=="string"||!s){c("bad-app-name",{name:String(s)})}if(h(t,s)){c("duplicate-app",{name:s})}var u=new e(r,a,i);t[s]=u;p(u,"create");return u}function l(){return Object.keys(t).map((function(e){return t[e]}))}function d(t,a,u,f,d){if(d===void 0){d=false}if(r[t]){c("duplicate-service",{name:t})}r[t]=a;if(f){n[t]=f;l().forEach((function(e){f("create",e)}))}function h(e){if(e===void 0){e=s()}if(typeof e[t]!=="function"){c("invalid-app-argument",{name:t})}return e[t]()}if(u!==undefined){o.deepExtend(h,u)}i[t]=h;e.prototype[t]=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=this._getService.bind(this,t);return n.apply(this,d?e:[])};return h}function p(e,t){for(var i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];var s=v(e,a);if(s===null){return}if(n[s]){n[s](t,e)}}}function v(e,t){if(t==="serverAuth"){return null}var r=t;var n=e.options;return r}return i}function v(){var e=p(d);e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:v,extendNamespace:t,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend});function t(t){o.deepExtend(e,t)}return e}var b=false;try{b=Object.prototype.toString.call(r.g.process)==="[object process]"}catch(e){}b&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');if(self&&"firebase"in self){console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;if(g&&g.indexOf("LITE")>=0){console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}}var y=v();t.ZP=y;n=y},628:function(e,t,r){"use strict";r.r(t);r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return y},__asyncGenerator:function(){return g},__asyncValues:function(){return m},__await:function(){return b},__awaiter:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return l},__importDefault:function(){return S},__importStar:function(){return w},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return p},__rest:function(){return a},__spread:function(){return v},__values:function(){return h}});var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return n(e,t)};function i(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){o=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))t[o]=r[o]}return t};return o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)if(t.indexOf(n[i])<0)r[n[i]]=e[n[i]];return r}function s(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}function d(e,t){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}function h(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function p(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){if(n[e])i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))}}function s(e,t){try{u(n[e](t))}catch(e){l(o[0][3],e)}}function u(e){e.value instanceof b?Promise.resolve(e.value.v).then(c,f):l(o[0][2],e)}function c(e){s("next",e)}function f(e){s("throw",e)}function l(e,t){if(e(t),o.shift(),o.length)s(o[0][0],o[0][1])}}function y(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:n==="return"}:i?i(t):t}:i}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof h==="function"?h(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){r=e[t](r),i(n,o,r.done,r.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function _(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t.default=e;return t}function S(e){return e&&e.__esModule?e:{default:e}}},685:function(e,t,r){"use strict";var n;n={value:true};var i=r(264);var o={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};var a=function(e,t){if(!e){throw s(t)}};var s=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var u=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if((i&64512)==55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)==56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023);t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var c=function(e){var t=[],r=0,n=0;while(r<e.length){var i=e[r++];if(i<128){t[n++]=String.fromCharCode(i)}else if(i>191&&i<224){var o=e[r++];t[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[r++];var a=e[r++];var s=e[r++];var u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10));t[n++]=String.fromCharCode(56320+(u&1023))}else{var o=e[r++];var a=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")};var f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray:function(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;var n=[];for(var i=0;i<e.length;i+=3){var o=e[i];var a=i+1<e.length;var s=a?e[i+1]:0;var u=i+2<e.length;var c=u?e[i+2]:0;var f=o>>2;var l=(o&3)<<4|s>>4;var d=(s&15)<<2|c>>6;var h=c&63;if(!u){h=64;if(!a){d=64}}n.push(r[f],r[l],r[d],r[h])}return n.join("")},encodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(u(e),t)},decodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();var r=t?this.charToByteMapWebSafe_:this.charToByteMap_;var n=[];for(var i=0;i<e.length;){var o=r[e.charAt(i++)];var a=i<e.length;var s=a?r[e.charAt(i)]:0;++i;var u=i<e.length;var c=u?r[e.charAt(i)]:64;++i;var f=i<e.length;var l=f?r[e.charAt(i)]:64;++i;if(o==null||s==null||c==null||l==null){throw Error()}var d=o<<2|s>>4;n.push(d);if(c!=64){var h=s<<4&240|c>>2;n.push(h);if(l!=64){var p=c<<6&192|l;n.push(p)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};var l=function(e){var t=u(e);return f.encodeByteArray(t,true)};var d=function(e){try{return f.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e){return p(undefined,e)}function p(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:var r=t;return new Date(r.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(var n in t){if(!t.hasOwnProperty(n)){continue}e[n]=p(e[n],t[n])}return e}function v(e,t,r){e[t]=r}var b=function(){function e(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t;e.reject=r}))}e.prototype.wrapCallback=function(e){var t=this;return function(r,n){if(r){t.reject(r)}else{t.resolve(n)}if(typeof e==="function"){t.promise.catch((function(){}));if(e.length===1){e(r)}else{e(r,n)}}}};return e}();function g(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function y(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function m(){try{return Object.prototype.toString.call(r.g.process)==="[object process]"}catch(e){return false}}function _(){return typeof self==="object"&&self.self===self}function w(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function S(){return o.NODE_CLIENT===true||o.NODE_ADMIN===true}var k="FirebaseError";var O=function(e){i.__extends(t,e);function t(r,n){var i=e.call(this,n)||this;i.code=r;i.name=k;Object.setPrototypeOf(i,t.prototype);if(Error.captureStackTrace){Error.captureStackTrace(i,P.prototype.create)}return i}return t}(Error);var P=function(){function e(e,t,r){this.service=e;this.serviceName=t;this.errors=r}e.prototype.create=function(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}var n=t[0]||{};var i=this.service+"/"+e;var o=this.errors[e];var a=o?A(o,n):"Error";var s=this.serviceName+": "+a+" ("+i+").";var u=new O(i,s);for(var c=0,f=Object.keys(n);c<f.length;c++){var l=f[c];if(l.slice(-1)!=="_"){if(l in u){console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.')}u[l]=n[l]}}return u};return e}();function A(e,t){return e.replace(M,(function(e,r){var n=t[r];return n!=null?n.toString():"<"+r+"?>"}))}var M=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}function T(e){return JSON.stringify(e)}var I=function(e){var t={},r={},n={},i="";try{var o=e.split(".");t=E(d(o[0])||"");r=E(d(o[1])||"");i=o[2];n=r["d"]||{};delete r["d"]}catch(e){}return{header:t,claims:r,data:n,signature:i}};var N=function(e){var t=I(e).claims,r=Math.floor((new Date).getTime()/1e3),n,i;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){n=t["nbf"]}else if(t.hasOwnProperty("iat")){n=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=n+86400}}return r&&n&&i&&r>=n&&r<=i};var C=function(e){var t=I(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};var x=function(e){var t=I(e),r=t.claims;return!!r&&typeof r==="object"&&r.hasOwnProperty("iat")};var j=function(e){var t=I(e).claims;return typeof t==="object"&&t["admin"]===true};var R=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var F=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};var D=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t(r,e[r])}}};var B=function(e,t){D(t,(function(t,r){e[t]=r}));return e};var L=function(e){return B({},e)};var W=function(e){return typeof e==="object"&&e!==null};var U=function(e){for(var t in e){return false}return true};var V=function(e){var t=0;for(var r in e){t++}return t};var z=function(e,t,r){var n={};for(var i in e){n[i]=t.call(r,e[i],i,e)}return n};var K=function(e,t,r){for(var n in e){if(t.call(r,e[n],n,e)){return n}}return undefined};var q=function(e,t,r){var n=K(e,t,r);return n&&e[n]};var G=function(e){for(var t in e){return t}};var H=function(e){var t=[];var r=0;for(var n in e){t[r++]=e[n]}return t};var J=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){if(!t(r,e[r])){return false}}}return true};var X=function(e){var t=[];D(e,(function(e,r){if(Array.isArray(r)){r.forEach((function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}))}else{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}}));return t.length?"&"+t.join("&"):""};var Q=function(e){var t={};var r=e.replace(/^\?/,"").split("&");r.forEach((function(e){if(e){var r=e.split("=");t[r[0]]=r[1]}}));return t};var Y=function(){function e(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(var e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0};e.prototype.compress_=function(e,t){if(!t){t=0}var r=this.W_;if(typeof e==="string"){for(var n=0;n<16;n++){r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(var n=0;n<16;n++){r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(var n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=(i<<1|i>>>31)&4294967295}var o=this.chain_[0];var a=this.chain_[1];var s=this.chain_[2];var u=this.chain_[3];var c=this.chain_[4];var f,l;for(var n=0;n<80;n++){if(n<40){if(n<20){f=u^a&(s^u);l=1518500249}else{f=a^s^u;l=1859775393}}else{if(n<60){f=a&s|u&(a|s);l=2400959708}else{f=a^s^u;l=3395469782}}var i=(o<<5|o>>>27)+f+c+l+r[n]&4294967295;c=u;u=s;s=(a<<30|a>>>2)&4294967295;a=o;o=i}this.chain_[0]=this.chain_[0]+o&4294967295;this.chain_[1]=this.chain_[1]+a&4294967295;this.chain_[2]=this.chain_[2]+s&4294967295;this.chain_[3]=this.chain_[3]+u&4294967295;this.chain_[4]=this.chain_[4]+c&4294967295};e.prototype.update=function(e,t){if(e==null){return}if(t===undefined){t=e.length}var r=t-this.blockSize;var n=0;var i=this.buf_;var o=this.inbuf_;while(n<t){if(o==0){while(n<=r){this.compress_(e,n);n+=this.blockSize}}if(typeof e==="string"){while(n<t){i[o]=e.charCodeAt(n);++o;++n;if(o==this.blockSize){this.compress_(i);o=0;break}}}else{while(n<t){i[o]=e[n];++o;++n;if(o==this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t};e.prototype.digest=function(){var e=[];var t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(var r=this.blockSize-1;r>=56;r--){this.buf_[r]=t&255;t/=256}this.compress_(this.buf_);var n=0;for(var r=0;r<5;r++){for(var i=24;i>=0;i-=8){e[n]=this.chain_[r]>>i&255;++n}}return e};return e}();function Z(e,t){var r=new $(e,t);return r.subscribe.bind(r)}var $=function(){function e(e,t){var r=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))};e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)}));this.close(e)};e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()}));this.close()};e.prototype.subscribe=function(e,t,r){var n=this;var i;if(e===undefined&&t===undefined&&r===undefined){throw new Error("Missing Observer.")}if(te(e,["next","error","complete"])){i=e}else{i={next:e,error:t,complete:r}}if(i.next===undefined){i.next=re}if(i.error===undefined){i.error=re}if(i.complete===undefined){i.complete=re}var o=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((function(){try{if(n.finalError){i.error(n.finalError)}else{i.complete()}}catch(e){}return}))}this.observers.push(i);return o};e.prototype.unsubscribeOne=function(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}};e.prototype.forEachObserver=function(e){if(this.finalized){return}for(var t=0;t<this.observers.length;t++){this.sendOne(t,e)}};e.prototype.sendOne=function(e,t){var r=this;this.task.then((function(){if(r.observers!==undefined&&r.observers[e]!==undefined){try{t(r.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))};e.prototype.close=function(e){var t=this;if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((function(){t.observers=undefined;t.onNoObservers=undefined}))};return e}();function ee(e,t){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}Promise.resolve(true).then((function(){e.apply(void 0,r)})).catch((function(e){if(t){t(e)}}))}}function te(e,t){if(typeof e!=="object"||e===null){return false}for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i in e&&typeof e[i]==="function"){return true}}return false}function re(){}var ne=function(e,t,r,n){var i;if(n<t){i="at least "+t}else if(n>r){i=r===0?"none":"no more than "+r}if(i){var o=e+" failed: Was called with "+n+(n===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function ie(e,t,r){var n="";switch(t){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";i+=n+" argument ";return i}function oe(e,t,r,n){if(n&&!r)return;if(typeof r!=="string"){throw new Error(ie(e,t,n)+"must be a valid firebase namespace.")}}function ae(e,t,r,n){if(n&&!r)return;if(typeof r!=="function")throw new Error(ie(e,t,n)+"must be a valid function.")}function se(e,t,r,n){if(n&&!r)return;if(typeof r!=="object"||r===null)throw new Error(ie(e,t,n)+"must be a valid context object.")}var ue=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319){var o=i-55296;n++;a(n<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(n)-56320;i=65536+(o<<10)+s}if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if(i<65536){t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var ce=function(e){var t=0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<128){t++}else if(n<2048){t+=2}else if(n>=55296&&n<=56319){t+=4;r++}else{t+=3}}return t};n=o;n=b;t.LL=P;n=O;n=Y;n=a;n=s;n=ee;n=f;n=d;n=l;n=L;n=R;t.ne=Z;n=I;n=h;n=p;n=ie;n=J;n=B;n=K;n=q;n=D;n=G;n=V;n=g;n=H;n=j;n=_;n=U;n=y;n=m;n=S;n=W;n=w;n=x;n=N;n=C;n=E;n=z;n=v;n=X;n=Q;n=F;n=ce;n=ue;n=T;n=ne;n=ae;n=se;n=oe},264:function(e,t,r){"use strict";r.r(t);r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return y},__asyncGenerator:function(){return g},__asyncValues:function(){return m},__await:function(){return b},__awaiter:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return l},__importDefault:function(){return S},__importStar:function(){return w},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return p},__rest:function(){return a},__spread:function(){return v},__values:function(){return h}});var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return n(e,t)};function i(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){o=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))t[o]=r[o]}return t};return o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)if(t.indexOf(n[i])<0)r[n[i]]=e[n[i]];return r}function s(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}function d(e,t){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}function h(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function p(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){if(n[e])i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))}}function s(e,t){try{u(n[e](t))}catch(e){l(o[0][3],e)}}function u(e){e.value instanceof b?Promise.resolve(e.value.v).then(c,f):l(o[0][2],e)}function c(e){s("next",e)}function f(e){s("throw",e)}function l(e,t){if(e(t),o.shift(),o.length)s(o[0][0],o[0][1])}}function y(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:n==="return"}:i?i(t):t}:i}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof h==="function"?h(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){r=e[t](r),i(n,o,r.done,r.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function _(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t.default=e;return t}function S(e){return e&&e.__esModule?e:{default:e}}},313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(713);var i={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};var o=function(e,t){if(!e){throw a(t)}};var a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var s=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if((i&64512)==55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)==56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023);t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var u=function(e){var t=[],r=0,n=0;while(r<e.length){var i=e[r++];if(i<128){t[n++]=String.fromCharCode(i)}else if(i>191&&i<224){var o=e[r++];t[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[r++];var a=e[r++];var s=e[r++];var u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(u>>10));t[n++]=String.fromCharCode(56320+(u&1023))}else{var o=e[r++];var a=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")};var c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray:function(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;var n=[];for(var i=0;i<e.length;i+=3){var o=e[i];var a=i+1<e.length;var s=a?e[i+1]:0;var u=i+2<e.length;var c=u?e[i+2]:0;var f=o>>2;var l=(o&3)<<4|s>>4;var d=(s&15)<<2|c>>6;var h=c&63;if(!u){h=64;if(!a){d=64}}n.push(r[f],r[l],r[d],r[h])}return n.join("")},encodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(s(e),t)},decodeString:function(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return u(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();var r=t?this.charToByteMapWebSafe_:this.charToByteMap_;var n=[];for(var i=0;i<e.length;){var o=r[e.charAt(i++)];var a=i<e.length;var s=a?r[e.charAt(i)]:0;++i;var u=i<e.length;var c=u?r[e.charAt(i)]:64;++i;var f=i<e.length;var l=f?r[e.charAt(i)]:64;++i;if(o==null||s==null||c==null||l==null){throw Error()}var d=o<<2|s>>4;n.push(d);if(c!=64){var h=s<<4&240|c>>2;n.push(h);if(l!=64){var p=c<<6&192|l;n.push(p)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};var f=function(e){var t=s(e);return c.encodeByteArray(t,true)};var l=function(e){try{return c.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e){return h(undefined,e)}function h(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:var r=t;return new Date(r.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(var n in t){if(!t.hasOwnProperty(n)){continue}e[n]=h(e[n],t[n])}return e}function p(e,t,r){e[t]=r}var v=function(){function e(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t;e.reject=r}))}e.prototype.wrapCallback=function(e){var t=this;return function(r,n){if(r){t.reject(r)}else{t.resolve(n)}if(typeof e==="function"){t.promise.catch((function(){}));if(e.length===1){e(r)}else{e(r,n)}}}};return e}();var b=function(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}};var g=function(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())};var y=function(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"};var m=function(){return i.NODE_CLIENT===true||i.NODE_ADMIN===true};var _="FirebaseError";var w=function(e){n.__extends(t,e);function t(r,n){var i=e.call(this,n)||this;i.code=r;i.name=_;Object.setPrototypeOf(i,t.prototype);if(Error.captureStackTrace){Error.captureStackTrace(i,S.prototype.create)}return i}return t}(Error);var S=function(){function e(e,t,r){this.service=e;this.serviceName=t;this.errors=r}e.prototype.create=function(e,t){if(t===void 0){t={}}var r=this.service+"/"+e;var n=this.errors[e];var i=n?k(n,t):"Error";var o=this.serviceName+": "+i+" ("+r+").";var a=new w(r,o);for(var s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];if(c.slice(-1)!=="_"){if(c in a){console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.')}a[c]=t[c]}}return a};return e}();function k(e,t){return e.replace(O,(function(e,r){var n=t[r];return n!=null?n.toString():"<"+r+"?>"}))}var O=/\{\$([^}]+)}/g;function P(e){return JSON.parse(e)}function A(e){return JSON.stringify(e)}var M=function(e){var t={},r={},n={},i="";try{var o=e.split(".");t=P(l(o[0])||"");r=P(l(o[1])||"");i=o[2];n=r["d"]||{};delete r["d"]}catch(e){}return{header:t,claims:r,data:n,signature:i}};var E=function(e){var t=M(e).claims,r=Math.floor((new Date).getTime()/1e3),n,i;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){n=t["nbf"]}else if(t.hasOwnProperty("iat")){n=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=n+86400}}return r&&n&&i&&r>=n&&r<=i};var T=function(e){var t=M(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};var I=function(e){var t=M(e),r=t.claims;return!!r&&typeof r==="object"&&r.hasOwnProperty("iat")};var N=function(e){var t=M(e).claims;return typeof t==="object"&&t["admin"]===true};var C=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var x=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};var j=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){t(r,e[r])}}};var R=function(e,t){j(t,(function(t,r){e[t]=r}));return e};var F=function(e){return R({},e)};var D=function(e){return typeof e==="object"&&e!==null};var B=function(e){for(var t in e){return false}return true};var L=function(e){var t=0;for(var r in e){t++}return t};var W=function(e,t,r){var n={};for(var i in e){n[i]=t.call(r,e[i],i,e)}return n};var U=function(e,t,r){for(var n in e){if(t.call(r,e[n],n,e)){return n}}return undefined};var V=function(e,t,r){var n=U(e,t,r);return n&&e[n]};var z=function(e){for(var t in e){return t}};var K=function(e){var t=[];var r=0;for(var n in e){t[r++]=e[n]}return t};var q=function(e,t){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){if(!t(r,e[r])){return false}}}return true};var G=function(e){var t=[];j(e,(function(e,r){if(Array.isArray(r)){r.forEach((function(r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}))}else{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}}));return t.length?"&"+t.join("&"):""};var H=function(e){var t={};var r=e.replace(/^\?/,"").split("&");r.forEach((function(e){if(e){var r=e.split("=");t[r[0]]=r[1]}}));return t};var J=function(){function e(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(var e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0};e.prototype.compress_=function(e,t){if(!t){t=0}var r=this.W_;if(typeof e==="string"){for(var n=0;n<16;n++){r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(var n=0;n<16;n++){r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(var n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=(i<<1|i>>>31)&4294967295}var o=this.chain_[0];var a=this.chain_[1];var s=this.chain_[2];var u=this.chain_[3];var c=this.chain_[4];var f,l;for(var n=0;n<80;n++){if(n<40){if(n<20){f=u^a&(s^u);l=1518500249}else{f=a^s^u;l=1859775393}}else{if(n<60){f=a&s|u&(a|s);l=2400959708}else{f=a^s^u;l=3395469782}}var i=(o<<5|o>>>27)+f+c+l+r[n]&4294967295;c=u;u=s;s=(a<<30|a>>>2)&4294967295;a=o;o=i}this.chain_[0]=this.chain_[0]+o&4294967295;this.chain_[1]=this.chain_[1]+a&4294967295;this.chain_[2]=this.chain_[2]+s&4294967295;this.chain_[3]=this.chain_[3]+u&4294967295;this.chain_[4]=this.chain_[4]+c&4294967295};e.prototype.update=function(e,t){if(e==null){return}if(t===undefined){t=e.length}var r=t-this.blockSize;var n=0;var i=this.buf_;var o=this.inbuf_;while(n<t){if(o==0){while(n<=r){this.compress_(e,n);n+=this.blockSize}}if(typeof e==="string"){while(n<t){i[o]=e.charCodeAt(n);++o;++n;if(o==this.blockSize){this.compress_(i);o=0;break}}}else{while(n<t){i[o]=e[n];++o;++n;if(o==this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t};e.prototype.digest=function(){var e=[];var t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(var r=this.blockSize-1;r>=56;r--){this.buf_[r]=t&255;t/=256}this.compress_(this.buf_);var n=0;for(var r=0;r<5;r++){for(var i=24;i>=0;i-=8){e[n]=this.chain_[r]>>i&255;++n}}return e};return e}();function X(e,t){var r=new Q(e,t);return r.subscribe.bind(r)}var Q=function(){function e(e,t){var r=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((function(){e(r)})).catch((function(e){r.error(e)}))}e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))};e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)}));this.close(e)};e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()}));this.close()};e.prototype.subscribe=function(e,t,r){var n=this;var i;if(e===undefined&&t===undefined&&r===undefined){throw new Error("Missing Observer.")}if(Z(e,["next","error","complete"])){i=e}else{i={next:e,error:t,complete:r}}if(i.next===undefined){i.next=$}if(i.error===undefined){i.error=$}if(i.complete===undefined){i.complete=$}var o=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((function(){try{if(n.finalError){i.error(n.finalError)}else{i.complete()}}catch(e){}return}))}this.observers.push(i);return o};e.prototype.unsubscribeOne=function(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}};e.prototype.forEachObserver=function(e){if(this.finalized){return}for(var t=0;t<this.observers.length;t++){this.sendOne(t,e)}};e.prototype.sendOne=function(e,t){var r=this;this.task.then((function(){if(r.observers!==undefined&&r.observers[e]!==undefined){try{t(r.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))};e.prototype.close=function(e){var t=this;if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((function(){t.observers=undefined;t.onNoObservers=undefined}))};return e}();function Y(e,t){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}Promise.resolve(true).then((function(){e.apply(void 0,r)})).catch((function(e){if(t){t(e)}}))}}function Z(e,t){if(typeof e!=="object"||e===null){return false}for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i in e&&typeof e[i]==="function"){return true}}return false}function $(){}var ee=function(e,t,r,n){var i;if(n<t){i="at least "+t}else if(n>r){i=r===0?"none":"no more than "+r}if(i){var o=e+" failed: Was called with "+n+(n===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function te(e,t,r){var n="";switch(t){case 1:n=r?"first":"First";break;case 2:n=r?"second":"Second";break;case 3:n=r?"third":"Third";break;case 4:n=r?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";i+=n+" argument ";return i}function re(e,t,r,n){if(n&&!r)return;if(typeof r!=="string"){throw new Error(te(e,t,n)+"must be a valid firebase namespace.")}}function ne(e,t,r,n){if(n&&!r)return;if(typeof r!=="function")throw new Error(te(e,t,n)+"must be a valid function.")}function ie(e,t,r,n){if(n&&!r)return;if(typeof r!=="object"||r===null)throw new Error(te(e,t,n)+"must be a valid context object.")}var oe=function(e){var t=[],r=0;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319){var a=i-55296;n++;o(n<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(n)-56320;i=65536+(a<<10)+s}if(i<128){t[r++]=i}else if(i<2048){t[r++]=i>>6|192;t[r++]=i&63|128}else if(i<65536){t[r++]=i>>12|224;t[r++]=i>>6&63|128;t[r++]=i&63|128}else{t[r++]=i>>18|240;t[r++]=i>>12&63|128;t[r++]=i>>6&63|128;t[r++]=i&63|128}}return t};var ae=function(e){var t=0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<128){t++}else if(n<2048){t+=2}else if(n>=55296&&n<=56319){t+=4;r++}else{t+=3}}return t};t.CONSTANTS=i;t.Deferred=v;t.ErrorFactory=S;t.FirebaseError=w;t.Sha1=J;t.assert=o;t.assertionError=a;t.async=Y;t.base64=c;t.base64Decode=l;t.base64Encode=f;t.clone=F;t.contains=C;t.createSubscribe=X;t.decode=M;t.deepCopy=d;t.deepExtend=h;t.errorPrefix=te;t.every=q;t.extend=R;t.findKey=U;t.findValue=V;t.forEach=j;t.getAnyKey=z;t.getCount=L;t.getUA=b;t.getValues=K;t.isAdmin=N;t.isEmpty=B;t.isMobileCordova=g;t.isNodeSdk=m;t.isNonNullObject=D;t.isReactNative=y;t.isValidFormat=I;t.isValidTimestamp=E;t.issuedAtTime=T;t.jsonEval=P;t.map=W;t.patchProperty=p;t.querystring=G;t.querystringDecode=H;t.safeGet=x;t.stringLength=ae;t.stringToByteArray=oe;t.stringify=A;t.validateArgCount=ee;t.validateCallback=ne;t.validateContextObject=ie;t.validateNamespace=re},713:function(e,t,r){"use strict";r.r(t);r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return y},__asyncGenerator:function(){return g},__asyncValues:function(){return m},__await:function(){return b},__awaiter:function(){return f},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return l},__importDefault:function(){return S},__importStar:function(){return w},__makeTemplateObject:function(){return _},__metadata:function(){return c},__param:function(){return u},__read:function(){return p},__rest:function(){return a},__spread:function(){return v},__values:function(){return h}});var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return n(e,t)};function i(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){o=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))t[o]=r[o]}return t};return o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)r[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)if(t.indexOf(n[i])<0)r[n[i]]=e[n[i]];return r}function s(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}function d(e,t){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}function h(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function p(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){if(n[e])i[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))}}function s(e,t){try{u(n[e](t))}catch(e){l(o[0][3],e)}}function u(e){e.value instanceof b?Promise.resolve(e.value.v).then(c,f):l(o[0][2],e)}function c(e){s("next",e)}function f(e){s("throw",e)}function l(e,t){if(e(t),o.shift(),o.length)s(o[0][0],o[0][1])}}function y(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:n==="return"}:i?i(t):t}:i}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof h==="function"?h(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){r=e[t](r),i(n,o,r.done,r.value)}))}}function i(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}}function _(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e}function w(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(Object.hasOwnProperty.call(e,r))t[r]=e[r];t.default=e;return t}function S(e){return e&&e.__esModule?e:{default:e}}},206:function(e){!function(t,r){true?e.exports=r():0}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),a=Math.max(i,o),s=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=o.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),o=u(r(94)),a=u(r(95)),s=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var f=s.default.find(a,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(r[f]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i),h=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);var a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}))},558:function(e,t,r){e.exports=r(71)["default"]},71:function(e,t){"use strict";var r;r={value:true};t["default"]=n;r=i;function n(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Map;var i=r.get(e);if(i)return i;if(Array.isArray(e)){var o=[];r.set(e,o);for(var a=0;a<e.length;a++){o[a]=n(e[a],t,r)}return o}if(e instanceof Date)return new Date(e.valueOf());if(!(e instanceof Object))return e;var s={};r.set(e,s);var u=Object.keys(e);for(var c=0;c<u.length;c++){var f=t?t(u[c]):u[c];s[f]=n(e[u[c]],t,r)}return s}function i(e){return function(t){return n(t,e)}}n.formatKeys=i},483:function(e,t,r){(function(t){if(true){e.exports=t()}else{var r}})((function(){var e,t,n;return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u=undefined;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};t[a][0].call(f.exports,(function(e){var r=t[a][1][e];return i(r?r:e)}),f,f.exports,e,t,r,n)}return r[a].exports}var o=undefined;for(var a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,n){(function(e){"use strict";var r=e.MutationObserver||e.WebKitMutationObserver;var n;{if(r){var i=0;var o=new r(f);var a=e.document.createTextNode("");o.observe(a,{characterData:true});n=function(){a.data=i=++i%2}}else if(!e.setImmediate&&typeof e.MessageChannel!=="undefined"){var s=new e.MessageChannel;s.port1.onmessage=f;n=function(){s.port2.postMessage(0)}}else if("document"in e&&"onreadystatechange"in e.document.createElement("script")){n=function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f();t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};e.document.documentElement.appendChild(t)}}else{n=function(){setTimeout(f,0)}}}var u;var c=[];function f(){u=true;var e,t;var r=c.length;while(r){t=c;c=[];e=-1;while(++e<r){t[e]()}r=c.length}u=false}t.exports=l;function l(e){if(c.push(e)===1&&!u){n()}}}).call(this,typeof r.g!=="undefined"?r.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function i(){}var o={};var a=["REJECTED"];var s=["FULFILLED"];var u=["PENDING"];t.exports=c;function c(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function")}this.state=u;this.queue=[];this.outcome=void 0;if(e!==i){h(this,e)}}c.prototype["catch"]=function(e){return this.then(null,e)};c.prototype.then=function(e,t){if(typeof e!=="function"&&this.state===s||typeof t!=="function"&&this.state===a){return this}var r=new this.constructor(i);if(this.state!==u){var n=this.state===s?e:t;l(r,n,this.outcome)}else{this.queue.push(new f(r,e,t))}return r};function f(e,t,r){this.promise=e;if(typeof t==="function"){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if(typeof r==="function"){this.onRejected=r;this.callRejected=this.otherCallRejected}}f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)};f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)};f.prototype.callRejected=function(e){o.reject(this.promise,e)};f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)};function l(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return o.reject(e,t)}if(n===e){o.reject(e,new TypeError("Cannot resolve promise with itself"))}else{o.resolve(e,n)}}))}o.resolve=function(e,t){var r=p(d,t);if(r.status==="error"){return o.reject(e,r.value)}var n=r.value;if(n){h(e,n)}else{e.state=s;e.outcome=t;var i=-1;var a=e.queue.length;while(++i<a){e.queue[i].callFulfilled(t)}}return e};o.reject=function(e,t){e.state=a;e.outcome=t;var r=-1;var n=e.queue.length;while(++r<n){e.queue[r].callRejected(t)}return e};function d(e){var t=e&&e.then;if(e&&(typeof e==="object"||typeof e==="function")&&typeof t==="function"){return function r(){t.apply(e,arguments)}}}function h(e,t){var r=false;function n(t){if(r){return}r=true;o.reject(e,t)}function i(t){if(r){return}r=true;o.resolve(e,t)}function a(){t(i,n)}var s=p(a);if(s.status==="error"){n(s.value)}}function p(e,t){var r={};try{r.value=e(t);r.status="success"}catch(e){r.status="error";r.value=e}return r}c.resolve=v;function v(e){if(e instanceof this){return e}return o.resolve(new this(i),e)}c.reject=b;function b(e){var t=new this(i);return o.reject(t,e)}c.all=g;function g(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var r=e.length;var n=false;if(!r){return this.resolve([])}var a=new Array(r);var s=0;var u=-1;var c=new this(i);while(++u<r){f(e[u],u)}return c;function f(e,i){t.resolve(e).then(u,(function(e){if(!n){n=true;o.reject(c,e)}}));function u(e){a[i]=e;if(++s===r&&!n){n=true;o.resolve(c,a)}}}}c.race=y;function y(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var r=e.length;var n=false;if(!r){return this.resolve([])}var a=-1;var s=new this(i);while(++a<r){u(e[a])}return s;function u(e){t.resolve(e).then((function(e){if(!n){n=true;o.resolve(s,e)}}),(function(e){if(!n){n=true;o.reject(s,e)}}))}}},{1:1}],3:[function(e,t,n){(function(t){"use strict";if(typeof t.Promise!=="function"){t.Promise=e(2)}}).call(this,typeof r.g!=="undefined"?r.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(e){return}}var a=o();function s(){try{if(!a||!a.open){return false}var e=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var t=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(e){return false}}function u(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError"){throw o}var r=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var n=new r;for(var i=0;i<e.length;i+=1){n.append(e[i])}return n.getBlob(t.type)}}if(typeof Promise==="undefined"){e(3)}var c=Promise;function f(e,t){if(t){e.then((function(e){t(null,e)}),(function(e){t(e)}))}}function l(e,t,r){if(typeof t==="function"){e.then(t)}if(typeof r==="function"){e["catch"](r)}}function d(e){if(typeof e!=="string"){console.warn(e+" used as a key, but it is not a string.");e=String(e)}return e}function h(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var v=void 0;var b={};var g=Object.prototype.toString;var y="readonly";var m="readwrite";function _(e){var t=e.length;var r=new ArrayBuffer(t);var n=new Uint8Array(r);for(var i=0;i<t;i++){n[i]=e.charCodeAt(i)}return r}function w(e){return new c((function(t){var r=e.transaction(p,m);var n=u([""]);r.objectStore(p).put(n,"key");r.onabort=function(e){e.preventDefault();e.stopPropagation();t(false)};r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);var r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}}))["catch"]((function(){return false}))}function S(e){if(typeof v==="boolean"){return c.resolve(v)}return w(e).then((function(e){v=e;return v}))}function k(e){var t=b[e.name];var r={};r.promise=new c((function(e,t){r.resolve=e;r.reject=t}));t.deferredOperations.push(r);if(!t.dbReady){t.dbReady=r.promise}else{t.dbReady=t.dbReady.then((function(){return r.promise}))}}function O(e){var t=b[e.name];var r=t.deferredOperations.pop();if(r){r.resolve();return r.promise}}function P(e,t){var r=b[e.name];var n=r.deferredOperations.pop();if(n){n.reject(t);return n.promise}}function A(e,t){return new c((function(r,n){b[e.name]=b[e.name]||F();if(e.db){if(t){k(e);e.db.close()}else{return r(e.db)}}var i=[e.name];if(t){i.push(e.version)}var o=a.open.apply(a,i);if(t){o.onupgradeneeded=function(t){var r=o.result;try{r.createObjectStore(e.storeName);if(t.oldVersion<=1){r.createObjectStore(p)}}catch(r){if(r.name==="ConstraintError"){console.warn('The database "'+e.name+'"'+" has been upgraded from version "+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}else{throw r}}}}o.onerror=function(e){e.preventDefault();n(o.error)};o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()};r(t);O(e)}}))}function M(e){return A(e,false)}function E(e){return A(e,true)}function T(e,t){if(!e.db){return true}var r=!e.db.objectStoreNames.contains(e.storeName);var n=e.version<e.db.version;var i=e.version>e.db.version;if(n){if(e.version!==t){console.warn('The database "'+e.name+'"'+" can't be downgraded from version "+e.db.version+" to version "+e.version+".")}e.version=e.db.version}if(i||r){if(r){var o=e.db.version+1;if(o>e.version){e.version=o}}return true}return false}function I(e){return new c((function(t,r){var n=new FileReader;n.onerror=r;n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:true,data:n,type:e.type})};n.readAsBinaryString(e)}))}function N(e){var t=_(atob(e.data));return u([t],{type:e.type})}function C(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this;var r=t._initReady().then((function(){var e=b[t._dbInfo.name];if(e&&e.dbReady){return e.dbReady}}));l(r,e,e);return r}function j(e){k(e);var t=b[e.name];var r=t.forages;for(var n=0;n<r.length;n++){var i=r[n];if(i._dbInfo.db){i._dbInfo.db.close();i._dbInfo.db=null}}e.db=null;return M(e).then((function(t){e.db=t;if(T(e)){return E(e)}return t})).then((function(n){e.db=t.db=n;for(var i=0;i<r.length;i++){r[i]._dbInfo.db=n}}))["catch"]((function(t){P(e,t);throw t}))}function R(e,t,r,n){if(n===undefined){n=1}try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError")){return c.resolve().then((function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version){if(e.db){e.version=e.db.version+1}return E(e)}})).then((function(){return j(e).then((function(){R(e,t,r,n-1)}))}))["catch"](r)}r(i)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function D(e){var t=this;var r={db:null};if(e){for(var n in e){r[n]=e[n]}}var i=b[r.name];if(!i){i=F();b[r.name]=i}i.forages.push(t);if(!t._initReady){t._initReady=t.ready;t.ready=x}var o=[];function a(){return c.resolve()}for(var s=0;s<i.forages.length;s++){var u=i.forages[s];if(u!==t){o.push(u._initReady()["catch"](a))}}var f=i.forages.slice(0);return c.all(o).then((function(){r.db=i.db;return M(r)})).then((function(e){r.db=e;if(T(r,t._defaultConfig.version)){return E(r)}return e})).then((function(e){r.db=i.db=e;t._dbInfo=r;for(var n=0;n<f.length;n++){var o=f[n];if(o!==t){o._dbInfo.db=r.db;o._dbInfo.version=r.version}}}))}function B(e,t){var r=this;e=d(e);var n=new c((function(t,n){r.ready().then((function(){R(r._dbInfo,y,(function(i,o){if(i){return n(i)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a.get(e);s.onsuccess=function(){var e=s.result;if(e===undefined){e=null}if(C(e)){e=N(e)}t(e)};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,t);return n}function L(e,t){var r=this;var n=new c((function(t,n){r.ready().then((function(){R(r._dbInfo,y,(function(i,o){if(i){return n(i)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a.openCursor();var u=1;s.onsuccess=function(){var r=s.result;if(r){var n=r.value;if(C(n)){n=N(n)}var i=e(n,r.key,u++);if(i!==void 0){t(i)}else{r["continue"]()}}else{t()}};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,t);return n}function W(e,t,r){var n=this;e=d(e);var i=new c((function(r,i){var o;n.ready().then((function(){o=n._dbInfo;if(g.call(t)==="[object Blob]"){return S(o.db).then((function(e){if(e){return t}return I(t)}))}return t})).then((function(t){R(n._dbInfo,m,(function(o,a){if(o){return i(o)}try{var s=a.objectStore(n._dbInfo.storeName);if(t===null){t=undefined}var u=s.put(t,e);a.oncomplete=function(){if(t===undefined){t=null}r(t)};a.onabort=a.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}}))}))["catch"](i)}));f(i,r);return i}function U(e,t){var r=this;e=d(e);var n=new c((function(t,n){r.ready().then((function(){R(r._dbInfo,m,(function(i,o){if(i){return n(i)}try{var a=o.objectStore(r._dbInfo.storeName);var s=a["delete"](e);o.oncomplete=function(){t()};o.onerror=function(){n(s.error)};o.onabort=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,t);return n}function V(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){R(t._dbInfo,m,(function(n,i){if(n){return r(n)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.clear();i.oncomplete=function(){e()};i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,e);return r}function z(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){R(t._dbInfo,y,(function(n,i){if(n){return r(n)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.count();a.onsuccess=function(){e(a.result)};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,e);return r}function K(e,t){var r=this;var n=new c((function(t,n){if(e<0){t(null);return}r.ready().then((function(){R(r._dbInfo,y,(function(i,o){if(i){return n(i)}try{var a=o.objectStore(r._dbInfo.storeName);var s=false;var u=a.openKeyCursor();u.onsuccess=function(){var r=u.result;if(!r){t(null);return}if(e===0){t(r.key)}else{if(!s){s=true;r.advance(e)}else{t(r.key)}}};u.onerror=function(){n(u.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,t);return n}function q(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){R(t._dbInfo,y,(function(n,i){if(n){return r(n)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.openKeyCursor();var s=[];a.onsuccess=function(){var t=a.result;if(!t){e(s);return}s.push(t.key);t["continue"]()};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,e);return r}function G(e,t){t=h.apply(this,arguments);var r=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||r.name;e.storeName=e.storeName||r.storeName}var n=this;var i;if(!e.name){i=c.reject("Invalid arguments")}else{var o=e.name===r.name&&n._dbInfo.db;var s=o?c.resolve(n._dbInfo.db):M(e).then((function(t){var r=b[e.name];var n=r.forages;r.db=t;for(var i=0;i<n.length;i++){n[i]._dbInfo.db=t}return t}));if(!e.storeName){i=s.then((function(t){k(e);var r=b[e.name];var n=r.forages;t.close();for(var i=0;i<n.length;i++){var o=n[i];o._dbInfo.db=null}var s=new c((function(t,r){var n=a.deleteDatabase(e.name);n.onerror=function(){var e=n.result;if(e){e.close()}r(n.error)};n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')};n.onsuccess=function(){var e=n.result;if(e){e.close()}t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<n.length;t++){var i=n[t];O(i._dbInfo)}}))["catch"]((function(t){(P(e,t)||c.resolve())["catch"]((function(){}));throw t}))}))}else{i=s.then((function(t){if(!t.objectStoreNames.contains(e.storeName)){return}var r=t.version+1;k(e);var n=b[e.name];var i=n.forages;t.close();for(var o=0;o<i.length;o++){var s=i[o];s._dbInfo.db=null;s._dbInfo.version=r}var u=new c((function(t,n){var i=a.open(e.name,r);i.onerror=function(e){var t=i.result;t.close();n(e)};i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)};i.onsuccess=function(){var e=i.result;e.close();t(e)}}));return u.then((function(e){n.db=e;for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=e;O(r._dbInfo)}}))["catch"]((function(t){(P(e,t)||c.resolve())["catch"]((function(){}));throw t}))}))}}f(i,t);return i}var H={_driver:"asyncStorage",_initStorage:D,_support:s(),iterate:L,getItem:B,setItem:W,removeItem:U,clear:V,length:z,key:K,keys:q,dropInstance:G};function J(){return typeof openDatabase==="function"}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var Q="~~local_forage_type~";var Y=/^~~local_forage_type~([^~]+)~/;var Z="__lfsc__:";var $=Z.length;var ee="arbf";var te="blob";var re="si08";var ne="ui08";var ie="uic8";var oe="si16";var ae="si32";var se="ur16";var ue="ui32";var ce="fl32";var fe="fl64";var le=$+ee.length;var de=Object.prototype.toString;function he(e){var t=e.length*.75;var r=e.length;var n;var i=0;var o,a,s,u;if(e[e.length-1]==="="){t--;if(e[e.length-2]==="="){t--}}var c=new ArrayBuffer(t);var f=new Uint8Array(c);for(n=0;n<r;n+=4){o=X.indexOf(e[n]);a=X.indexOf(e[n+1]);s=X.indexOf(e[n+2]);u=X.indexOf(e[n+3]);f[i++]=o<<2|a>>4;f[i++]=(a&15)<<4|s>>2;f[i++]=(s&3)<<6|u&63}return c}function pe(e){var t=new Uint8Array(e);var r="";var n;for(n=0;n<t.length;n+=3){r+=X[t[n]>>2];r+=X[(t[n]&3)<<4|t[n+1]>>4];r+=X[(t[n+1]&15)<<2|t[n+2]>>6];r+=X[t[n+2]&63]}if(t.length%3===2){r=r.substring(0,r.length-1)+"="}else if(t.length%3===1){r=r.substring(0,r.length-2)+"=="}return r}function ve(e,t){var r="";if(e){r=de.call(e)}if(e&&(r==="[object ArrayBuffer]"||e.buffer&&de.call(e.buffer)==="[object ArrayBuffer]")){var n;var i=Z;if(e instanceof ArrayBuffer){n=e;i+=ee}else{n=e.buffer;if(r==="[object Int8Array]"){i+=re}else if(r==="[object Uint8Array]"){i+=ne}else if(r==="[object Uint8ClampedArray]"){i+=ie}else if(r==="[object Int16Array]"){i+=oe}else if(r==="[object Uint16Array]"){i+=se}else if(r==="[object Int32Array]"){i+=ae}else if(r==="[object Uint32Array]"){i+=ue}else if(r==="[object Float32Array]"){i+=ce}else if(r==="[object Float64Array]"){i+=fe}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+pe(n))}else if(r==="[object Blob]"){var o=new FileReader;o.onload=function(){var r=Q+e.type+"~"+pe(this.result);t(Z+te+r)};o.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e);t(null,r)}}}function be(e){if(e.substring(0,$)!==Z){return JSON.parse(e)}var t=e.substring(le);var r=e.substring($,le);var n;if(r===te&&Y.test(t)){var i=t.match(Y);n=i[1];t=t.substring(i[0].length)}var o=he(t);switch(r){case ee:return o;case te:return u([o],{type:n});case re:return new Int8Array(o);case ne:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case se:return new Uint16Array(o);case ae:return new Int32Array(o);case ue:return new Uint32Array(o);case ce:return new Float32Array(o);case fe:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}var ge={serialize:ve,deserialize:be,stringToBuffer:he,bufferToString:pe};function ye(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function me(e){var t=this;var r={db:null};if(e){for(var n in e){r[n]=typeof e[n]!=="string"?e[n].toString():e[n]}}var i=new c((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){ye(i,r,(function(){t._dbInfo=r;e()}),(function(e,t){n(t)}))}),n)}));r.serializer=ge;return i}function _e(e,t,r,n,i,o){e.executeSql(r,n,i,(function(e,a){if(a.code===a.SYNTAX_ERR){e.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[t.storeName],(function(e,s){if(!s.rows.length){ye(e,t,(function(){e.executeSql(r,n,i,o)}),o)}else{o(e,a)}}),o)}else{o(e,a)}}),o)}function we(e,t){var r=this;e=d(e);var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){_e(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;if(n){n=i.serializer.deserialize(n)}t(n)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,t);return n}function Se(e,t){var r=this;var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){_e(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){var o=n.rows;var a=o.length;for(var s=0;s<a;s++){var u=o.item(s);var c=u.value;if(c){c=i.serializer.deserialize(c)}c=e(c,u.key,s+1);if(c!==void 0){t(c);return}}t()}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,t);return n}function ke(e,t,r,n){var i=this;e=d(e);var o=new c((function(o,a){i.ready().then((function(){if(t===undefined){t=null}var s=t;var u=i._dbInfo;u.serializer.serialize(t,(function(t,c){if(c){a(c)}else{u.db.transaction((function(r){_e(r,u,"INSERT OR REPLACE INTO "+u.storeName+" "+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0){o(ke.apply(i,[e,s,r,n-1]));return}a(t)}}))}}))}))["catch"](a)}));f(o,r);return o}function Oe(e,t,r){return ke.apply(this,[e,t,r,1])}function Pe(e,t){var r=this;e=d(e);var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){_e(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,t);return n}function Ae(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){_e(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,e);return r}function Me(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){_e(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,e);return r}function Ee(e,t){var r=this;var n=new c((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){_e(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,t);return n}function Te(e){var t=this;var r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){_e(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){var n=[];for(var i=0;i<r.rows.length;i++){n.push(r.rows.item(i).key)}e(n)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,e);return r}function Ie(e){return new c((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){var i=[];for(var o=0;o<n.rows.length;o++){i.push(n.rows.item(o).name)}t({db:e,storeNames:i})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Ne(e,t){t=h.apply(this,arguments);var r=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||r.name;e.storeName=e.storeName||r.storeName}var n=this;var i;if(!e.name){i=c.reject("Invalid arguments")}else{i=new c((function(t){var i;if(e.name===r.name){i=n._dbInfo.db}else{i=openDatabase(e.name,"","",0)}if(!e.storeName){t(Ie(i))}else{t({db:i,storeNames:[e.storeName]})}})).then((function(e){return new c((function(t,r){e.db.transaction((function(n){function i(e){return new c((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}var o=[];for(var a=0,s=e.storeNames.length;a<s;a++){o.push(i(e.storeNames[a]))}c.all(o).then((function(){t()}))["catch"]((function(e){r(e)}))}),(function(e){r(e)}))}))}))}f(i,t);return i}var Ce={_driver:"webSQLStorage",_initStorage:me,_support:J(),iterate:Se,getItem:we,setItem:Oe,removeItem:Pe,clear:Ae,length:Me,key:Ee,keys:Te,dropInstance:Ne};function xe(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return false}}function je(e,t){var r=e.name+"/";if(e.storeName!==t.storeName){r+=e.storeName+"/"}return r}function Re(){var e="_localforage_support_test";try{localStorage.setItem(e,true);localStorage.removeItem(e);return false}catch(e){return true}}function Fe(){return!Re()||localStorage.length>0}function De(e){var t=this;var r={};if(e){for(var n in e){r[n]=e[n]}}r.keyPrefix=je(e,t._defaultConfig);if(!Fe()){return c.reject()}t._dbInfo=r;r.serializer=ge;return c.resolve()}function Be(e){var t=this;var r=t.ready().then((function(){var e=t._dbInfo.keyPrefix;for(var r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);if(n.indexOf(e)===0){localStorage.removeItem(n)}}}));f(r,e);return r}function Le(e,t){var r=this;e=d(e);var n=r.ready().then((function(){var t=r._dbInfo;var n=localStorage.getItem(t.keyPrefix+e);if(n){n=t.serializer.deserialize(n)}return n}));f(n,t);return n}function We(e,t){var r=this;var n=r.ready().then((function(){var t=r._dbInfo;var n=t.keyPrefix;var i=n.length;var o=localStorage.length;var a=1;for(var s=0;s<o;s++){var u=localStorage.key(s);if(u.indexOf(n)!==0){continue}var c=localStorage.getItem(u);if(c){c=t.serializer.deserialize(c)}c=e(c,u.substring(i),a++);if(c!==void 0){return c}}}));f(n,t);return n}function Ue(e,t){var r=this;var n=r.ready().then((function(){var t=r._dbInfo;var n;try{n=localStorage.key(e)}catch(e){n=null}if(n){n=n.substring(t.keyPrefix.length)}return n}));f(n,t);return n}function Ve(e){var t=this;var r=t.ready().then((function(){var e=t._dbInfo;var r=localStorage.length;var n=[];for(var i=0;i<r;i++){var o=localStorage.key(i);if(o.indexOf(e.keyPrefix)===0){n.push(o.substring(e.keyPrefix.length))}}return n}));f(r,e);return r}function ze(e){var t=this;var r=t.keys().then((function(e){return e.length}));f(r,e);return r}function Ke(e,t){var r=this;e=d(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));f(n,t);return n}function qe(e,t,r){var n=this;e=d(e);var i=n.ready().then((function(){if(t===undefined){t=null}var r=t;return new c((function(i,o){var a=n._dbInfo;a.serializer.serialize(t,(function(t,n){if(n){o(n)}else{try{localStorage.setItem(a.keyPrefix+e,t);i(r)}catch(e){if(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"){o(e)}o(e)}}}))}))}));f(i,r);return i}function Ge(e,t){t=h.apply(this,arguments);e=typeof e!=="function"&&e||{};if(!e.name){var r=this.config();e.name=e.name||r.name;e.storeName=e.storeName||r.storeName}var n=this;var i;if(!e.name){i=c.reject("Invalid arguments")}else{i=new c((function(t){if(!e.storeName){t(e.name+"/")}else{t(je(e,n._defaultConfig))}})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);if(r.indexOf(e)===0){localStorage.removeItem(r)}}}))}f(i,t);return i}var He={_driver:"localStorageWrapper",_initStorage:De,_support:xe(),iterate:We,getItem:Le,setItem:qe,removeItem:Ke,clear:Be,length:ze,key:Ue,keys:Ve,dropInstance:Ge};var Je=function e(t,r){return t===r||typeof t==="number"&&typeof r==="number"&&isNaN(t)&&isNaN(r)};var Xe=function e(t,r){var n=t.length;var i=0;while(i<n){if(Je(t[i],r)){return true}i++}return false};var Qe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var Ye={};var Ze={};var $e={INDEXEDDB:H,WEBSQL:Ce,LOCALSTORAGE:He};var et=[$e.INDEXEDDB._driver,$e.WEBSQL._driver,$e.LOCALSTORAGE._driver];var tt=["dropInstance"];var rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt);var nt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t){for(var r in t){if(t.hasOwnProperty(r)){if(Qe(t[r])){arguments[0][r]=t[r].slice()}else{arguments[0][r]=t[r]}}}}}return arguments[0]}var at=function(){function e(t){i(this,e);for(var r in $e){if($e.hasOwnProperty(r)){var n=$e[r];var o=n._driver;this[r]=o;if(!Ye[o]){this.defineDriver(n)}}}this._defaultConfig=ot({},nt);this._config=ot({},this._defaultConfig,t);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"]((function(){}))}e.prototype.config=function e(t){if((typeof t==="undefined"?"undefined":n(t))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var r in t){if(r==="storeName"){t[r]=t[r].replace(/\W/g,"_")}if(r==="version"&&typeof t[r]!=="number"){return new Error("Database version must be a number.")}this._config[r]=t[r]}if("driver"in t&&t.driver){return this.setDriver(this._config.driver)}return true}else if(typeof t==="string"){return this._config[t]}else{return this._config}};e.prototype.defineDriver=function e(t,r,n){var i=new c((function(e,r){try{var n=t._driver;var i=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!t._driver){r(i);return}var o=rt.concat("_initStorage");for(var a=0,s=o.length;a<s;a++){var u=o[a];var l=!Xe(tt,u);if((l||t[u])&&typeof t[u]!=="function"){r(i);return}}var d=function e(){var r=function e(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver");var r=c.reject(e);f(r,arguments[arguments.length-1]);return r}};for(var n=0,i=tt.length;n<i;n++){var o=tt[n];if(!t[o]){t[o]=r(o)}}};d();var h=function r(i){if(Ye[n]){console.info("Redefining LocalForage driver: "+n)}Ye[n]=t;Ze[n]=i;e()};if("_support"in t){if(t._support&&typeof t._support==="function"){t._support().then(h,r)}else{h(!!t._support)}}else{h(true)}}catch(e){r(e)}}));l(i,r,n);return i};e.prototype.driver=function e(){return this._driver||null};e.prototype.getDriver=function e(t,r,n){var i=Ye[t]?c.resolve(Ye[t]):c.reject(new Error("Driver not found."));l(i,r,n);return i};e.prototype.getSerializer=function e(t){var r=c.resolve(ge);l(r,t);return r};e.prototype.ready=function e(t){var r=this;var n=r._driverSet.then((function(){if(r._ready===null){r._ready=r._initDriver()}return r._ready}));l(n,t,t);return n};e.prototype.setDriver=function e(t,r,n){var i=this;if(!Qe(t)){t=[t]}var o=this._getSupportedDrivers(t);function a(){i._config.driver=i.driver()}function s(e){i._extend(e);a();i._ready=i._initStorage(i._config);return i._ready}function u(e){return function(){var t=0;function r(){while(t<e.length){var n=e[t];t++;i._dbInfo=null;i._ready=null;return i.getDriver(n).then(s)["catch"](r)}a();var o=new Error("No available storage method found.");i._driverSet=c.reject(o);return i._driverSet}return r()}}var f=this._driverSet!==null?this._driverSet["catch"]((function(){return c.resolve()})):c.resolve();this._driverSet=f.then((function(){var e=o[0];i._dbInfo=null;i._ready=null;return i.getDriver(e).then((function(e){i._driver=e._driver;a();i._wrapLibraryMethodsWithReady();i._initDriver=u(o)}))}))["catch"]((function(){a();var e=new Error("No available storage method found.");i._driverSet=c.reject(e);return i._driverSet}));l(this._driverSet,r,n);return this._driverSet};e.prototype.supports=function e(t){return!!Ze[t]};e.prototype._extend=function e(t){ot(this,t)};e.prototype._getSupportedDrivers=function e(t){var r=[];for(var n=0,i=t.length;n<i;n++){var o=t[n];if(this.supports(o)){r.push(o)}}return r};e.prototype._wrapLibraryMethodsWithReady=function e(){for(var t=0,r=rt.length;t<r;t++){it(this,rt[t])}};e.prototype.createInstance=function t(r){return new e(r)};return e}();var st=new at;t.exports=st},{3:3}]},{},[4])(4)}))},129:function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function a(e){var t=/([^=?#&]+)=?([^&]*)/g,r={},n;while(n=t.exec(e)){var o=i(n[1]),a=i(n[2]);if(o===null||a===null||o in r)continue;r[o]=a}return r}function s(e,t){t=t||"";var i=[],a,s;if("string"!==typeof t)t="?";for(s in e){if(r.call(e,s)){a=e[s];if(!a&&(a===null||a===n||isNaN(a))){a=""}s=o(s);a=o(a);if(s===null||a===null)continue;i.push(s+"="+a)}}return i.length?t+i.join("&"):""}t.stringify=s;t.parse=a},418:function(e){"use strict";e.exports=function e(t,r){r=r.split(":")[0];t=+t;if(!t)return false;switch(r){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return false}return t!==0}},564:function(e,t,r){"use strict";var n=r(418),i=r(129),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function l(e){return(e?e:"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function e(t,r){return v(r.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d*)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function p(e){var t;if(typeof window!=="undefined")t=window;else if(typeof r.g!=="undefined")t=r.g;else if(typeof self!=="undefined")t=self;else t={};var n=t.location||{};e=e||n;var i={},o=typeof e,a;if("blob:"===e.protocol){i=new y(unescape(e.pathname),{})}else if("string"===o){i=new y(e,{});for(a in h)delete i[a]}else if("object"===o){for(a in e){if(a in h)continue;i[a]=e[a]}if(i.slashes===undefined){i.slashes=s.test(e.href)}}return i}function v(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function b(e,t){e=l(e);e=e.replace(a,"");t=t||{};var r=c.exec(e);var n=r[1]?r[1].toLowerCase():"";var i=!!r[2];var o=!!r[3];var s=0;var u;if(i){if(o){u=r[2]+r[3]+r[4];s=r[2].length+r[3].length}else{u=r[2]+r[4];s=r[2].length}}else{if(o){u=r[3]+r[4];s=r[3].length}else{u=r[4]}}if(n==="file:"){if(s>=2){u=u.slice(2)}}else if(v(n)){u=r[4]}else if(n){if(i){u=u.slice(2)}}else if(s>=2&&v(t.protocol)){u=r[4]}return{protocol:n,slashes:i||v(n),slashesCount:s,rest:u}}function g(e,t){if(e==="")return t;var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=false,a=0;while(n--){if(r[n]==="."){r.splice(n,1)}else if(r[n]===".."){r.splice(n,1);a++}else if(a){if(n===0)o=true;r.splice(n,1);a--}}if(o)r.unshift("");if(i==="."||i==="..")r.push("");return r.join("/")}function y(e,t,r){e=l(e);e=e.replace(a,"");if(!(this instanceof y)){return new y(e,t,r)}var o,s,u,c,h,m,_=d.slice(),w=typeof t,S=this,k=0;if("object"!==w&&"string"!==w){r=t;t=null}if(r&&"function"!==typeof r)r=i.parse;t=p(t);s=b(e||"",t);o=!s.protocol&&!s.slashes;S.slashes=s.slashes||o&&t.slashes;S.protocol=s.protocol||t.protocol||"";e=s.rest;if(s.protocol==="file:"&&(s.slashesCount!==2||f.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!v(S.protocol))){_[3]=[/(.*)/,"pathname"]}for(;k<_.length;k++){c=_[k];if(typeof c==="function"){e=c(e,S);continue}u=c[0];m=c[1];if(u!==u){S[m]=e}else if("string"===typeof u){h=u==="@"?e.lastIndexOf(u):e.indexOf(u);if(~h){if("number"===typeof c[2]){S[m]=e.slice(0,h);e=e.slice(h+c[2])}else{S[m]=e.slice(h);e=e.slice(0,h)}}}else if(h=u.exec(e)){S[m]=h[1];e=e.slice(0,h.index)}S[m]=S[m]||(o&&c[3]?t[m]||"":"");if(c[4])S[m]=S[m].toLowerCase()}if(r)S.query=r(S.query);if(o&&t.slashes&&S.pathname.charAt(0)!=="/"&&(S.pathname!==""||t.pathname!=="")){S.pathname=g(S.pathname,t.pathname)}if(S.pathname.charAt(0)!=="/"&&v(S.protocol)){S.pathname="/"+S.pathname}if(!n(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){h=S.auth.indexOf(":");if(~h){S.username=S.auth.slice(0,h);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(h+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else{S.username=encodeURIComponent(decodeURIComponent(S.auth))}S.auth=S.password?S.username+":"+S.password:S.username}S.origin=S.protocol!=="file:"&&v(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}function m(e,t,r){var o=this;switch(e){case"query":if("string"===typeof t&&t.length){t=(r||i.parse)(t)}o[e]=t;break;case"port":o[e]=t;if(!n(t,o.protocol)){o.host=o.hostname;o[e]=""}else if(t){o.host=o.hostname+":"+t}break;case"hostname":o[e]=t;if(o.port)t+=":"+o.port;o.host=t;break;case"host":o[e]=t;if(u.test(t)){t=t.split(":");o.port=t.pop();o.hostname=t.join(":")}else{o.hostname=t;o.port=""}break;case"protocol":o.protocol=t.toLowerCase();o.slashes=!r;break;case"pathname":case"hash":if(t){var a=e==="pathname"?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else{o[e]=t}break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");if(~s){o.username=t.slice(0,s);o.username=encodeURIComponent(decodeURIComponent(o.username));o.password=t.slice(s+1);o.password=encodeURIComponent(decodeURIComponent(o.password))}else{o.username=encodeURIComponent(decodeURIComponent(t))}}for(var c=0;c<d.length;c++){var f=d[c];if(f[4])o[f[1]]=o[f[1]].toLowerCase()}o.auth=o.password?o.username+":"+o.password:o.username;o.origin=o.protocol!=="file:"&&v(o.protocol)&&o.host?o.protocol+"//"+o.host:"null";o.href=o.toString();return o}function _(e){if(!e||"function"!==typeof e)e=i.stringify;var t,r=this,n=r.host,o=r.protocol;if(o&&o.charAt(o.length-1)!==":")o+=":";var a=o+(r.protocol&&r.slashes||v(r.protocol)?"//":"");if(r.username){a+=r.username;if(r.password)a+=":"+r.password;a+="@"}else if(r.password){a+=":"+r.password;a+="@"}else if(r.protocol!=="file:"&&v(r.protocol)&&!n&&r.pathname!=="/"){a+="@"}if(n[n.length-1]===":"||u.test(r.hostname)&&!r.port){n+=":"}a+=n+r.pathname;t="object"===typeof r.query?e(r.query):r.query;if(t)a+="?"!==t.charAt(0)?"?"+t:t;if(r.hash)a+=r.hash;return a}y.prototype={set:m,toString:_};y.extractProtocol=b;y.location=p;y.trimLeft=l;y.qs=i;e.exports=y}};var t={};function r(n){var i=t[n];if(i!==undefined){return i.exports}var o=t[n]={exports:{}};e[n].call(o.exports,o,o.exports,r);return o.exports}!function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};r.d(t,{a:t});return t}}();!function(){r.d=function(e,t){for(var n in t){if(r.o(t,n)&&!r.o(e,n)){Object.defineProperty(e,n,{enumerable:true,get:t[n]})}}}}();!function(){r.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()}();!function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();!function(){r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}}();var n={};!function(){"use strict";var e=r(558);var t=r.n(e);var n=r(752);var i=r(264);var o=r(685);var a;var s=(a={},a["only-available-in-window"]="This method is available in a Window context.",a["only-available-in-sw"]="This method is available in a service worker context.",a["should-be-overriden"]="This method should be overriden by extended classes.",a["bad-sender-id"]="Please ensure that 'messagingSenderId' is set "+"correctly in the options passed into firebase.initializeApp().",a["permission-default"]="The required permissions were not granted and dismissed instead.",a["permission-blocked"]="The required permissions were not granted and blocked instead.",a["unsupported-browser"]="This browser doesn't support the API's "+"required to use the firebase SDK.",a["notifications-blocked"]="Notifications have been blocked.",a["failed-serviceworker-registration"]="We are unable to register the "+"default service worker. {$browserErrorMessage}",a["sw-registration-expected"]="A service worker registration was the expected input.",a["get-subscription-failed"]="There was an error when trying to get "+"any existing Push Subscriptions.",a["invalid-saved-token"]="Unable to access details of the saved token.",a["sw-reg-redundant"]="The service worker being used for push was made redundant.",a["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",a["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",a["token-subscribe-no-push-set"]="FCM returned an invalid response when getting an FCM token.",a["token-unsubscribe-failed"]="A problem occured while unsubscribing the "+"user from FCM: {$errorInfo}",a["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",a["token-update-no-token"]="FCM returned no token when updating the user to push.",a["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",a["invalid-delete-token"]="You must pass a valid token into "+"deleteToken(), i.e. the token from getToken().",a["delete-token-not-found"]="The deletion attempt for token could not "+"be performed as the token was not found.",a["delete-scope-not-found"]="The deletion attempt for service worker "+"scope could not be performed as the scope was not found.",a["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",a["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",a["unable-to-resubscribe"]="There was an error while re-subscribing "+"the FCM token for push messaging. Will have to resubscribe the "+"user on next visit. {$errorInfo}",a["no-fcm-token-for-resubscribe"]="Could not find an FCM token "+"and as a result, unable to resubscribe. Will have to resubscribe the "+"user on next visit.",a["failed-to-delete-token"]="Unable to delete the currently saved token.",a["no-sw-in-reg"]="Even though the service worker registration was "+"successful, there was a problem accessing the service worker itself.",a["incorrect-gcm-sender-id"]="Please change your web app manifest's "+"'gcm_sender_id' value to '103953800507' to use Firebase messaging.",a["bad-scope"]="The service worker scope must be a string with at "+"least one character.",a["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",a["bad-subscription"]="The subscription must be a valid PushSubscription.",a["bad-token"]="The FCM Token used for storage / lookup was not "+"a valid token string.",a["bad-push-set"]="The FCM push set used for storage / lookup was not "+"not a valid push set string.",a["failed-delete-vapid-key"]="The VAPID key could not be deleted.",a["invalid-public-vapid-key"]="The public VAPID key must be a string.",a["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used.",a["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",a);var u=new o.LL("messaging","Messaging",s);var c=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]);var f="https://fcm.googleapis.com";var l;(function(e){e["TYPE_OF_MSG"]="firebase-messaging-msg-type";e["DATA"]="firebase-messaging-msg-data"})(l||(l={}));var d;(function(e){e["PUSH_MSG_RECEIVED"]="push-msg-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(d||(d={}));function h(e,t){if(e==null||t==null){return false}if(e===t){return true}if(e.byteLength!==t.byteLength){return false}var r=new DataView(e);var n=new DataView(t);for(var i=0;i<e.byteLength;i++){if(r.getUint8(i)!==n.getUint8(i)){return false}}return true}function p(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,i.__spread)(t)))}function v(e){var t=p(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var b=function(){function e(){}e.prototype.getToken=function(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s,l,d,p,b,g,y;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=v(t.getKey("p256dh"));o=v(t.getKey("auth"));a="authorized_entity="+e+"&"+("endpoint="+t.endpoint+"&")+("encryption_key="+n+"&")+("encryption_auth="+o);if(!h(r.buffer,c.buffer)){s=v(r);a+="&application_pub_key="+s}l=new Headers;l.append("Content-Type","application/x-www-form-urlencoded");d={method:"POST",headers:l,body:a};i.label=1;case 1:i.trys.push([1,4,,5]);return[4,fetch(f+"/fcm/connect/subscribe",d)];case 2:b=i.sent();return[4,b.json()];case 3:p=i.sent();return[3,5];case 4:g=i.sent();throw u.create("token-subscribe-failed",{errorInfo:g});case 5:if(p.error){y=p.error.message;throw u.create("token-subscribe-failed",{errorInfo:y})}if(!p.token){throw u.create("token-subscribe-no-token")}if(!p.pushSet){throw u.create("token-subscribe-no-push-set")}return[2,{token:p.token,pushSet:p.pushSet}]}}))}))};e.prototype.updateToken=function(e,t,r,n,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var a,s,l,d,p,b,g,y,m,_;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:a=v(n.getKey("p256dh"));s=v(n.getKey("auth"));l="push_set="+r+"&"+("token="+t+"&")+("authorized_entity="+e+"&")+("endpoint="+n.endpoint+"&")+("encryption_key="+a+"&")+("encryption_auth="+s);if(!h(o.buffer,c.buffer)){d=v(o);l+="&application_pub_key="+d}p=new Headers;p.append("Content-Type","application/x-www-form-urlencoded");b={method:"POST",headers:p,body:l};i.label=1;case 1:i.trys.push([1,4,,5]);return[4,fetch(f+"/fcm/connect/subscribe",b)];case 2:y=i.sent();return[4,y.json()];case 3:g=i.sent();return[3,5];case 4:m=i.sent();throw u.create("token-update-failed",{errorInfo:m});case 5:if(g.error){_=g.error.message;throw u.create("token-update-failed",{errorInfo:_})}if(!g.token){throw u.create("token-update-no-token")}return[2,g.token]}}))}))};e.prototype.deleteToken=function(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,o,a,s,c,l,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n="authorized_entity="+e+"&"+("token="+t+"&")+("pushSet="+r);o=new Headers;o.append("Content-Type","application/x-www-form-urlencoded");a={method:"POST",headers:o,body:n};i.label=1;case 1:i.trys.push([1,4,,5]);return[4,fetch(f+"/fcm/connect/unsubscribe",a)];case 2:s=i.sent();return[4,s.json()];case 3:c=i.sent();if(c.error){l=c.error.message;throw u.create("token-unsubscribe-failed",{errorInfo:l})}return[3,5];case 4:d=i.sent();throw u.create("token-unsubscribe-failed",{errorInfo:d});case 5:return[2]}}))}))};return e}();function g(e){var t="=".repeat((4-e.length%4)%4);var r=(e+t).replace(/\-/g,"+").replace(/_/g,"/");var n=atob(r);var i=new Uint8Array(n.length);for(var o=0;o<n.length;++o){i[o]=n.charCodeAt(o)}return i}var y="undefined";var m="fcm_token_object_Store";function _(e){if(!e.objectStoreNames.contains(m)){return}var t=e.transaction(m);var r=t.objectStore(m);var n=new b;var i=r.openCursor();i.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)};i.onsuccess=function(){var t=i.result;if(t){var r=t.value;n.deleteToken(r.fcmSenderId,r.fcmToken,r.fcmPushSet);t.continue()}else{e.close();indexedDB.deleteDatabase(y)}}}function w(){var e=indexedDB.open(y);e.onerror=function(e){};e.onsuccess=function(t){var r=e.result;_(r)}}var S=function(){function e(){this.dbPromise=null}e.prototype.get=function(e){return this.createTransaction((function(t){return t.get(e)}))};e.prototype.getIndex=function(e,t){function r(r){var n=r.index(e);return n.get(t)}return this.createTransaction(r)};e.prototype.put=function(e){return this.createTransaction((function(t){return t.put(e)}),"readwrite")};e.prototype.delete=function(e){return this.createTransaction((function(t){return t.delete(e)}),"readwrite")};e.prototype.closeDatabase=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!this.dbPromise)return[3,2];return[4,this.dbPromise];case 1:e=t.sent();e.close();this.dbPromise=null;t.label=2;case 2:return[2]}}))}))};e.prototype.createTransaction=function(e,t){if(t===void 0){t="readonly"}return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,n,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.getDb()];case 1:r=i.sent();n=r.transaction(this.objectStoreName,t);o=n.objectStore(this.objectStoreName);return[4,k(e(o))];case 2:a=i.sent();return[2,new Promise((function(e,t){n.oncomplete=function(){e(a)};n.onerror=function(){t(n.error)}}))]}}))}))};e.prototype.getDb=function(){var e=this;if(!this.dbPromise){this.dbPromise=new Promise((function(t,r){var n=indexedDB.open(e.dbName,e.dbVersion);n.onsuccess=function(){t(n.result)};n.onerror=function(){e.dbPromise=null;r(n.error)};n.onupgradeneeded=function(t){return e.onDbUpgrade(n,t)}}))}return this.dbPromise};return e}();function k(e){return new Promise((function(t,r){e.onsuccess=function(){t(e.result)};e.onerror=function(){r(e.error)}}))}var O=function(e){(0,i.__extends)(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.dbName="fcm_token_details_db";t.dbVersion=3;t.objectStoreName="fcm_token_object_Store";return t}t.prototype.onDbUpgrade=function(e,t){var r=e.result;switch(t.oldVersion){case 0:{var n=r.createObjectStore(this.objectStoreName,{keyPath:"swScope"});n.createIndex("fcmSenderId","fcmSenderId",{unique:false});n.createIndex("fcmToken","fcmToken",{unique:true})}case 1:{w()}case 2:{var n=e.transaction.objectStore(this.objectStoreName);var o=n.openCursor();o.onsuccess=function(){var e=o.result;if(e){var t=e.value;var r=(0,i.__assign)({},t);if(!t.createTime){r.createTime=Date.now()}if(typeof t.vapidKey==="string"){r.vapidKey=g(t.vapidKey)}if(typeof t.auth==="string"){r.auth=g(t.auth).buffer}if(typeof t.auth==="string"){r.p256dh=g(t.p256dh).buffer}e.update(r);e.continue()}}}}};t.prototype.getTokenDetailsFromToken=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){if(!e){throw u.create("bad-token")}P({fcmToken:e});return[2,this.getIndex("fcmToken",e)]}))}))};t.prototype.getTokenDetailsFromSWScope=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){if(!e){throw u.create("bad-scope")}P({swScope:e});return[2,this.get(e)]}))}))};t.prototype.saveTokenDetails=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){if(!e.swScope){throw u.create("bad-scope")}if(!e.vapidKey){throw u.create("bad-vapid-key")}if(!e.endpoint||!e.auth||!e.p256dh){throw u.create("bad-subscription")}if(!e.fcmSenderId){throw u.create("bad-sender-id")}if(!e.fcmToken){throw u.create("bad-token")}if(!e.fcmPushSet){throw u.create("bad-push-set")}P(e);return[2,this.put(e)]}))}))};t.prototype.deleteToken=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(typeof e!=="string"||e.length===0){return[2,Promise.reject(u.create("invalid-delete-token"))]}return[4,this.getTokenDetailsFromToken(e)];case 1:t=r.sent();if(!t){throw u.create("delete-token-not-found")}return[4,this.delete(t.swScope)];case 2:r.sent();return[2,t]}}))}))};return t}(S);function P(e){if(e.fcmToken){if(typeof e.fcmToken!=="string"||e.fcmToken.length===0){throw u.create("bad-token")}}if(e.swScope){if(typeof e.swScope!=="string"||e.swScope.length===0){throw u.create("bad-scope")}}if(e.vapidKey){if(!(e.vapidKey instanceof Uint8Array)||e.vapidKey.length!==65){throw u.create("bad-vapid-key")}}if(e.endpoint){if(typeof e.endpoint!=="string"||e.endpoint.length===0){throw u.create("bad-subscription")}}if(e.auth){if(!(e.auth instanceof ArrayBuffer)){throw u.create("bad-subscription")}}if(e.p256dh){if(!(e.p256dh instanceof ArrayBuffer)){throw u.create("bad-subscription")}}if(e.fcmSenderId){if(typeof e.fcmSenderId!=="string"||e.fcmSenderId.length===0){throw u.create("bad-sender-id")}}if(e.fcmPushSet){if(typeof e.fcmPushSet!=="string"||e.fcmPushSet.length===0){throw u.create("bad-push-set")}}}var A=65;var M=function(e){(0,i.__extends)(t,e);function t(){var t=e!==null&&e.apply(this,arguments)||this;t.dbName="fcm_vapid_details_db";t.dbVersion=1;t.objectStoreName="fcm_vapid_object_Store";return t}t.prototype.onDbUpgrade=function(e){var t=e.result;t.createObjectStore(this.objectStoreName,{keyPath:"swScope"})};t.prototype.getVapidFromSWScope=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(typeof e!=="string"||e.length===0){throw u.create("bad-scope")}return[4,this.get(e)];case 1:t=r.sent();return[2,t?t.vapidKey:undefined]}}))}))};t.prototype.saveVapidDetails=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(n){if(typeof e!=="string"||e.length===0){throw u.create("bad-scope")}if(t===null||t.length!==A){throw u.create("bad-vapid-key")}r={swScope:e,vapidKey:t};return[2,this.put(r)]}))}))};t.prototype.deleteVapidDetails=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:t=r.sent();if(!t){throw u.create("delete-scope-not-found")}return[4,this.delete(e)];case 2:r.sent();return[2,t]}}))}))};return t}(S);var E="messagingSenderId";var T=7*24*60*60*1e3;var I=function(){function e(e){var t=this;if(!e.options[E]||typeof e.options[E]!=="string"){throw u.create("bad-sender-id")}this.messagingSenderId=e.options[E];this.tokenDetailsModel=new O;this.vapidDetailsModel=new M;this.iidModel=new b;this.app=e;this.INTERNAL={delete:function(){return t.delete()}}}e.prototype.getToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,r,n,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:e=this.getNotificationPermission_();if(e==="denied"){throw u.create("notifications-blocked")}else if(e!=="granted"){return[2,null]}return[4,this.getSWRegistration_()];case 1:t=i.sent();return[4,this.getPublicVapidKey_()];case 2:r=i.sent();return[4,this.getPushSubscription(t,r)];case 3:n=i.sent();return[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:o=i.sent();if(o){return[2,this.manageExistingToken(t,n,r,o)]}return[2,this.getNewToken(t,n,r)]}}))}))};e.prototype.manageExistingToken=function(e,t,r,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:o=N(t,r,n);if(o){a=Date.now();if(a<n.createTime+T){return[2,n.fcmToken]}else{return[2,this.updateToken(e,t,r,n)]}}return[4,this.deleteTokenFromDB(n.fcmToken)];case 1:i.sent();return[2,this.getNewToken(e,t,r)]}}))}))};e.prototype.updateToken=function(e,t,r,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,6]);return[4,this.iidModel.updateToken(this.messagingSenderId,n.fcmToken,n.fcmPushSet,t,r)];case 1:o=i.sent();a={swScope:e.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:o,fcmPushSet:n.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")};return[4,this.tokenDetailsModel.saveTokenDetails(a)];case 2:i.sent();return[4,this.vapidDetailsModel.saveVapidDetails(e.scope,r)];case 3:i.sent();return[2,o];case 4:s=i.sent();return[4,this.deleteToken(n.fcmToken)];case 5:i.sent();throw s;case 6:return[2]}}))}))};e.prototype.getNewToken=function(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,r)];case 1:n=i.sent();o={swScope:e.scope,vapidKey:r,fcmSenderId:this.messagingSenderId,fcmToken:n.token,fcmPushSet:n.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")};return[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:i.sent();return[4,this.vapidDetailsModel.saveVapidDetails(e.scope,r)];case 3:i.sent();return[2,n.token]}}))}))};e.prototype.deleteToken=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:n.sent();return[4,this.getSWRegistration_()];case 2:t=n.sent();if(!t)return[3,4];return[4,t.pushManager.getSubscription()];case 3:r=n.sent();if(r){return[2,r.unsubscribe()]}n.label=4;case 4:return[2,true]}}))}))};e.prototype.deleteTokenFromDB=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:t=r.sent();return[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:r.sent();return[2]}}))}))};e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then((function(r){if(r){return r}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:t})}))};e.prototype.requestPermission=function(){throw u.create("only-available-in-window")};e.prototype.useServiceWorker=function(e){throw u.create("only-available-in-window")};e.prototype.usePublicVapidKey=function(e){throw u.create("only-available-in-window")};e.prototype.onMessage=function(e,t,r){throw u.create("only-available-in-window")};e.prototype.onTokenRefresh=function(e,t,r){throw u.create("only-available-in-window")};e.prototype.setBackgroundMessageHandler=function(e){throw u.create("only-available-in-sw")};e.prototype.delete=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:e.sent();return[2]}}))}))};e.prototype.getNotificationPermission_=function(){return Notification.permission};e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel};e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel};e.prototype.getIidModel=function(){return this.iidModel};return e}();function N(e,t,r){if(!r.vapidKey||!h(t.buffer,r.vapidKey.buffer)){return false}var n=e.endpoint===r.endpoint;var i=h(e.getKey("auth"),r.auth);var o=h(e.getKey("p256dh"),r.p256dh);return n&&i&&o}var C="FCM_MSG";var x=function(e){(0,i.__extends)(t,e);function t(t){var r=e.call(this,t)||this;r.bgMessageHandler=null;self.addEventListener("push",(function(e){r.onPush(e)}));self.addEventListener("pushsubscriptionchange",(function(e){r.onSubChange(e)}));self.addEventListener("notificationclick",(function(e){r.onNotificationClick(e)}));return r}t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))};t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))};t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))};t.prototype.onPush_=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r,n,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!e.data){return[2]}try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:r=i.sent();if(r){return[2,this.sendMessageToWindowClients_(t)]}n=this.getNotificationData_(t);if(!n)return[3,3];o=n.title||"";return[4,this.getSWRegistration_()];case 2:a=i.sent();s=n.actions;u=Notification.maxActions;if(s&&u&&s.length>u){console.warn("This browser only supports "+u+" actions."+"The remaining actions will not be displayed.")}return[2,a.showNotification(o,n)];case 3:if(!this.bgMessageHandler)return[3,5];return[4,this.bgMessageHandler(t)];case 4:i.sent();return[2];case 5:return[2]}}))}))};t.prototype.onSubChange_=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,r,n,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,this.getSWRegistration_()];case 1:e=i.sent();return[3,3];case 2:t=i.sent();throw u.create("unable-to-resubscribe",{errorInfo:t});case 3:i.trys.push([3,5,,8]);return[4,e.pushManager.getSubscription()];case 4:i.sent();return[3,8];case 5:r=i.sent();n=this.getTokenDetailsModel();return[4,n.getTokenDetailsFromSWScope(e.scope)];case 6:o=i.sent();if(!o){throw r}return[4,this.deleteToken(o.fcmToken)];case 7:i.sent();throw r;case 8:return[2]}}))}))};t.prototype.onNotificationClick_=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r,n,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!e.notification||!e.notification.data||!e.notification.data[C]){return[2]}else if(e.action){return[2]}e.stopImmediatePropagation();e.notification.close();t=e.notification.data[C];if(!t.notification){return[2]}r=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action;if(!r){return[2]}return[4,this.getWindowClient_(r)];case 1:n=i.sent();if(!!n)return[3,3];return[4,self.clients.openWindow(r)];case 2:n=i.sent();return[3,5];case 3:return[4,n.focus()];case 4:n=i.sent();i.label=5;case 5:if(!n){return[2]}delete t.notification;delete t.fcmOptions;o=R(d.NOTIFICATION_CLICKED,t);return[2,this.attemptToMessageClient_(n,o)]}}))}))};t.prototype.getNotificationData_=function(e){var t;if(!e){return}if(typeof e.notification!=="object"){return}var r=(0,i.__assign)({},e.notification);r.data=(0,i.__assign)({},e.notification.data,(t={},t[C]=e,t));return r};t.prototype.setBackgroundMessageHandler=function(e){if(!e||typeof e!=="function"){throw u.create("bg-handler-function-expected")}this.bgMessageHandler=e};t.prototype.getWindowClient_=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r,n,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:t=new URL(e,self.location.href).href;return[4,j()];case 1:r=i.sent();n=null;for(o=0;o<r.length;o++){a=new URL(r[o].url,self.location.href).href;if(a===t){n=r[o];break}}return[2,n]}}))}))};t.prototype.attemptToMessageClient_=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(r){if(!e){throw u.create("no-window-client-to-msg")}e.postMessage(t);return[2]}))}))};t.prototype.hasVisibleClients_=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,j()];case 1:e=t.sent();return[2,e.some((function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")}))]}}))}))};t.prototype.sendMessageToWindowClients_=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r;var n=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,j()];case 1:t=i.sent();r=R(d.PUSH_MSG_RECEIVED,e);return[4,Promise.all(t.map((function(e){return n.attemptToMessageClient_(e,r)})))];case 2:i.sent();return[2]}}))}))};t.prototype.getSWRegistration_=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,self.registration]}))}))};t.prototype.getPublicVapidKey_=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getSWRegistration_()];case 1:e=r.sent();if(!e){throw u.create("sw-registration-expected")}return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:t=r.sent();if(t==null){return[2,c]}return[2,t]}}))}))};return t}(I);function j(){return self.clients.matchAll({type:"window",includeUncontrolled:true})}function R(e,t){var r;return r={},r[l.TYPE_OF_MSG]=e,r[l.DATA]=t,r}var F="/firebase-messaging-sw.js";var D="/firebase-cloud-messaging-push-scope";var B=function(e){(0,i.__extends)(t,e);function t(t){var r=e.call(this,t)||this;r.registrationToUse=null;r.publicVapidKeyToUse=null;r.manifestCheckPromise=null;r.messageObserver=null;r.tokenRefreshObserver=null;r.onMessageInternal=(0,o.ne)((function(e){r.messageObserver=e}));r.onTokenRefreshInternal=(0,o.ne)((function(e){r.tokenRefreshObserver=e}));r.setupSWMessageListener_();return r}t.prototype.getToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!this.manifestCheckPromise){this.manifestCheckPromise=L()}return[4,this.manifestCheckPromise];case 1:t.sent();return[2,e.prototype.getToken.call(this)]}}))}))};t.prototype.requestPermission=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(this.getNotificationPermission_()==="granted"){return[2]}return[4,Notification.requestPermission()];case 1:e=t.sent();if(e==="granted"){return[2]}else if(e==="denied"){throw u.create("permission-blocked")}else{throw u.create("permission-default")}return[2]}}))}))};t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration)){throw u.create("sw-registration-expected")}if(this.registrationToUse!=null){throw u.create("use-sw-before-get-token")}this.registrationToUse=e};t.prototype.usePublicVapidKey=function(e){if(typeof e!=="string"){throw u.create("invalid-public-vapid-key")}if(this.publicVapidKeyToUse!=null){throw u.create("use-public-key-before-get-token")}var t=g(e);if(t.length!==65){throw u.create("public-vapid-key-decryption-failed")}this.publicVapidKeyToUse=t};t.prototype.onMessage=function(e,t,r){if(typeof e==="function"){return this.onMessageInternal(e,t,r)}else{return this.onMessageInternal(e)}};t.prototype.onTokenRefresh=function(e,t,r){if(typeof e==="function"){return this.onTokenRefreshInternal(e,t,r)}else{return this.onTokenRefreshInternal(e)}};t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise((function(r,n){if(!t){n(u.create("no-sw-in-reg"));return}if(t.state==="activated"){r(e);return}if(t.state==="redundant"){n(u.create("sw-reg-redundant"));return}var i=function(){if(t.state==="activated"){r(e)}else if(t.state==="redundant"){n(u.create("sw-reg-redundant"))}else{return}t.removeEventListener("statechange",i)};t.addEventListener("statechange",i)}))};t.prototype.getSWRegistration_=function(){var e=this;if(this.registrationToUse){return this.waitForRegistrationToActivate_(this.registrationToUse)}this.registrationToUse=null;return navigator.serviceWorker.register(F,{scope:D}).catch((function(e){throw u.create("failed-serviceworker-registration",{browserErrorMessage:e.message})})).then((function(t){return e.waitForRegistrationToActivate_(t).then((function(){e.registrationToUse=t;t.update();return t}))}))};t.prototype.getPublicVapidKey_=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){if(this.publicVapidKeyToUse){return[2,this.publicVapidKeyToUse]}return[2,c]}))}))};t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",(function(t){if(!t.data||!t.data[l.TYPE_OF_MSG]){return}var r=t.data;switch(r[l.TYPE_OF_MSG]){case d.PUSH_MSG_RECEIVED:case d.NOTIFICATION_CLICKED:var n=r[l.DATA];if(e.messageObserver){e.messageObserver.next(n)}break;default:break}}),false)};return t}(I);function L(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,r,n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:e=document.querySelector('link[rel="manifest"]');if(!e){return[2]}i.label=1;case 1:i.trys.push([1,4,,5]);return[4,fetch(e.href)];case 2:r=i.sent();return[4,r.json()];case 3:t=i.sent();return[3,5];case 4:n=i.sent();return[2];case 5:if(!t||!t.gcm_sender_id){return[2]}if(t.gcm_sender_id!=="103953800507"){throw u.create("incorrect-gcm-sender-id")}return[2]}}))}))}function W(e){var t="messaging";var r=function(e){if(!U()){throw u.create("unsupported-browser")}if(self&&"ServiceWorkerGlobalScope"in self){return new x(e)}else{return new B(e)}};var n={isSupported:U};e.INTERNAL.registerService(t,r,n)}W(n.ZP);function U(){if(self&&"ServiceWorkerGlobalScope"in self){return z()}else{return V()}}function V(){return navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function z(){return"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}var K=undefined&&undefined.__assign||function(){K=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return K.apply(this,arguments)};var q="https://";var G={debug:"true"==="true",isTest:"false"==="true",resourceToken:"29QXnNUVgMsf-8bd58a5e46439e8f",apiServerHost:"pxl.andrey-morozov.dev.altkraft.com",swPath:"/service-worker.js",vapidKey:"BBvQnsorFea0H5viBU9yk2oplPt-mMNoufKajJ0M3VpsdlaNNNgBnXhaD3FiCSjqCYMvuVHGj1xWcmTZkkuEbSA",firebase:{apiKey:"AIzaSyA0BF56_-7XHFvDkTPRv4XPswK311SkwMU",projectId:"jilldabill-2ea63",messagingSenderId:"120148707003"},browsers:{Chrome:{isFirebase:"true"==="true"},Firefox:{isFirebase:"true"==="true"},Opera:{isFirebase:"true"==="true"},"Yandex Browser":{isFirebase:"true"==="true"},"Samsung Internet for Android":{isFirebase:"true"==="true"},Safari:{websitePushID:"web.io.github.amorozovaltcraft",websitePushAPI:"https://pxl.andrey-morozov.dev.altkraft.com/ap"}},expirationSWChrome:"900"};var H={randomPrefix:"Shahkoop2aeleiv8Ierief_",serverPrefix:q,serverSavePath:"/pixel?_push_pix=/push/subscription/save",serverDeletePath:"/pixel?_push_pix=/push/subscription/delete",serverUpdatePath:"/pixel?_push_pix=/push/subscription/update",serverCookiePath:"/pixel?_push_pix=/set_cookie_only",serverPushContentPath:"/pixel?_push_pix=/push/content/get",serverURL:(q+G.apiServerHost).replace(/\/+$/,""),swPath:"/service-worker.js",isTest:false,cookieID:"",browser:undefined,firebase:{authSubdomain:"firebaseapp.com",bucketSubdomain:"appspot.com",dbSubdomain:"firebaseio.com"},allFirebase:undefined};var J=K(K(K({},H),G),{firebase:K(K({},H.firebase),G.firebase),expirationSWChrome:parseInt(G.expirationSWChrome)||0});var X=J;var Q=r(564);var Y=r.n(Q);var Z=r(206);var $=r(483);var ee;(function(e){e["subscribe"]="subscribe";e["updateSubscription"]="update_subscription"})(ee||(ee={}));var te=Object.prototype.hasOwnProperty;function re(e,t){return typeof e==="object"&&te.call(e,t)}function ne(e){return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(e){console.info.apply(null,t)}}}var ie=be(X.debug);var oe=undefined&&undefined.__assign||function(){oe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return oe.apply(this,arguments)};var ae=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var se=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,s[0]&&(r=0)),r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var ue=function(){return"safari"in window&&"pushNotification"in window.safari};var ce={};function fe(){return ae(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:if(!le())return[3,2];return[4,navigator.serviceWorker.getRegistrations().then((function(e){return e.find((function(e){var t=e.active,r=e.waiting,n=e.installing;var i=t||r||n;return i&&i.scriptURL.includes("/service-worker.js?browser")}))}))];case 1:return[2,e.sent()];case 2:console.log("can`t use service worker");e.label=3;case 3:return[2]}}))}))}function le(){return"serviceWorker"in window.navigator}function de(e){return e.split(" ").join("")}function he(e){if(e.allFirebase)return true;var t=e.browser;if(t){var r=e.browsers[t];if(re(r,"isFirebase")){return r.isFirebase}else{return false}}throw new Error("Invalid config")}function pe(e){return ae(this,void 0,void 0,(function(){var t,r,n,i,o,a,s,u,c;return se(this,(function(f){switch(f.label){case 0:t=e.serverURL,r=e.serverCookiePath,n=e.resourceToken;f.label=1;case 1:f.trys.push([1,9,,10]);return[4,localforage.getItem("_ak_cookie")];case 2:i=f.sent()||"";return[4,fetch(t+r,{method:"post",credentials:"include",headers:i?{"X-Cookie":i}:undefined,body:JSON.stringify({resource_token:n})}).then((function(e){return{body:e.json(),headers:e.headers}}))];case 3:o=f.sent();a={cookie_id:"","X-Cookie":""};s="cookie_id";return[4,o.body];case 4:if(!(s in f.sent()))return[3,6];u=a;return[4,o.body];case 5:u.cookie_id=f.sent().cookie_id;f.label=6;case 6:debug("X-Cookie:",o===null||o===void 0?void 0:o.headers.has("X-Cookie"),o===null||o===void 0?void 0:o.headers.get("X-Cookie"));if(!o.headers.has("X-Cookie"))return[3,8];a["X-Cookie"]=o.headers.get("X-Cookie")||"";if(!a["X-Cookie"])return[3,8];return[4,localforage.setItem("_ak_cookie",a["X-Cookie"])];case 7:f.sent();f.label=8;case 8:if(a["X-Cookie"]||a.cookie_id){return[2,a]}console.error("Invalid response for set cookie:",o.body);return[3,10];case 9:c=f.sent();console.error("Unable to set cookie",c);return[3,10];case 10:return[2,undefined]}}))}))}function ve(e,t){var r=new RegExp("".concat(t,"=(w*);?"),"g");var n=Array.from(e.matchAll(r));return n.length?n[0][1]:""}function be(e){return function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}if(e){console.info.apply(null,t)}}}function ge(e){return new(Y())(e,true).query.browser}function ye(e){if(!e.browser&&"userAgent"in window.navigator){return bowser.getParser(window.navigator.userAgent).getBrowser().name}return undefined}function me(e,t){return ae(this,void 0,void 0,(function(){return se(this,(function(r){switch(r.label){case 0:return[4,localforage.setItem("".concat(e,"current_token"),t)];case 1:r.sent();return[2]}}))}))}function _e(e){return ae(this,void 0,void 0,(function(){var t;return se(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,localforage.getItem("".concat(e,"current_token"))];case 1:return[2,r.sent()];case 2:t=r.sent();console.log("error on getToken",t);return[2,null];case 3:return[2]}}))}))}function we(e){if(e===void 0){e=CONFIG.randomPrefix}return ae(this,void 0,void 0,(function(){var t,r,n,i,o,a,s,u;return se(this,(function(c){switch(c.label){case 0:t=Se(e);return[4,_e(e)];case 1:r=c.sent();n=Se("".concat(e,"_endpoint_"));return[4,_e("".concat(e,"_endpoint_"))];case 2:i=c.sent();return[4,_e("".concat(e,"_keys_"))];case 3:o=c.sent();debug("Founded tokens",{tokenLS:t,token:r,endpointLS:n,endpoint:i,keys:o});if(t){ke(e)}if(n){ke("".concat(e,"_endpoint_"))}if(!o)return[3,7];c.label=4;case 4:c.trys.push([4,6,,7]);return[4,localforage.removeItem("".concat(e,"_keys_current_token"))];case 5:c.sent();debug({result:"success"});return[3,7];case 6:a=c.sent();debug({result:"error",error:a});return[3,7];case 7:if(!r)return[3,11];c.label=8;case 8:c.trys.push([8,10,,11]);return[4,localforage.removeItem("".concat(e,"current_token"))];case 9:c.sent();return[2,{result:"success"}];case 10:s=c.sent();return[2,{result:"error",error:s}];case 11:if(!i)return[3,15];c.label=12;case 12:c.trys.push([12,14,,15]);return[4,localforage.removeItem("".concat(e,"_endpoint_"))];case 13:c.sent();return[2,{result:"success"}];case 14:u=c.sent();return[2,{result:"error",error:u}];case 15:return[2,{result:"not-found"}]}}))}))}function Se(e){return localStorage.getItem("".concat(e,"current_token"))}function ke(e){localStorage.removeItem("".concat(e,"current_token"))}function Oe(e,t){return ae(this,void 0,void 0,(function(){var r,n;return se(this,(function(i){switch(i.label){case 0:return[4,Notification.requestPermission()];case 1:r=i.sent();if(!(r==="granted"))return[3,4];return[4,fe().then((function(e){return e&&e.active?e:undefined}))];case 2:n=i.sent();if(!n)return[3,4];return[4,n.showNotification(e,t)];case 3:i.sent();i.label=4;case 4:return[2]}}))}))}function Pe(e){var t=e.browser,r=e.expirationSWChrome,n=e.swPath;if(t==="Chrome"){var i=r!==0?r:900;return"".concat(n,"?browser=").concat(t,"&expiration=").concat(Math.floor(Date.now()/(i*1e3)))}return"".concat(n,"?browser=").concat(t)}function Ae(){return ae(this,void 0,void 0,(function(){var e,t,r,n;return se(this,(function(i){switch(i.label){case 0:if(!("showNotification"in ServiceWorkerRegistration.prototype)){console.error("Notifications is not supported");return[2,false]}if(!(Notification.permission!=="denied"))return[3,10];if(!("PushManager"in window))return[3,8];debug("getPushServiceWorker","start");return[4,fe()];case 1:e=i.sent();debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration",e);i.label=2;case 2:i.trys.push([2,6,,7]);debug("serviceWorkerRegistration.pushManager.getSubscription","start");if(!e)return[3,4];return[4,e.pushManager.getSubscription()];case 3:r=i.sent();return[3,5];case 4:r=undefined;i.label=5;case 5:t=r;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",t);return[2,true];case 6:n=i.sent();console.error("Error on getting subscription data",n);return[2,false];case 7:return[3,9];case 8:console.error("Push-notification is not supported by the browser");return[2,false];case 9:return[3,11];case 10:console.log("User denied notifications");return[2,false];case 11:return[2]}}))}))}function Me(e,t){return ae(this,void 0,void 0,(function(){var r,n,i,o,a;return se(this,(function(s){switch(s.label){case 0:if(!(Notification.permission==="granted"))return[3,21];r=e.browser;switch(r){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,14]}return[3,20];case 1:if(!le())return[3,12];debug("can use service worker");if(!he(e))return[3,9];n=void 0;debug("> getPushServiceWorker","start");s.label=2;case 2:s.trys.push([2,4,,5]);return[4,fe()];case 3:n=s.sent();debug("< getPushServiceWorker","complete");debug(">> registration",n);return[3,5];case 4:i=s.sent();debug("err get registration",i);return[3,5];case 5:debug("should use firebase");debug("firebase.initializeApp","start");firebase.initializeApp({apiKey:e.firebase.apiKey,projectId:e.firebase.projectId,messagingSenderId:e.firebase.messagingSenderId,storageBucket:[e.firebase.projectId,e.firebase.bucketSubdomain].join("."),authDomain:[e.firebase.projectId,e.firebase.authSubdomain].join("."),databaseURL:[e.firebase.projectId,e.firebase.dbSubdomain].join(".")});if(!n)return[3,7];debug(" firebase.messaging().useServiceWorker","start");firebase.messaging().useServiceWorker(n);debug("firebase.messaging().useServiceWorker","complete");debug("firebase.initializeApp","complete");debug("updateFirebaseToken","start");return[4,Ce(e,t)];case 6:s.sent();debug("updateFirebaseToken","complete");s.label=7;case 7:debug("firebase.messaging().getToken","start");return[4,firebase.messaging().getToken()];case 8:o=s.sent();debug("firebase.messaging().getToken","complete");if(o&&!ce[o]){debug("added firebase.messaging().onMessage handler");ce[o]=firebase.messaging().onMessage((function(e){debug("Message received:",e);var t=e.notification.title;var r={body:e.notification.body,icon:e.notification.icon,image:e.notification.image,data:e.notification.click_action,actions:e.notification.actions};Oe(t,r)}))}return[3,11];case 9:debug("should not use firebase");debug("updateDefaultSubscription","start");return[4,je(e,t)];case 10:s.sent();debug("updateDefaultSubscription","complete");s.label=11;case 11:return[3,13];case 12:debug("can`t use service worker");console.error("There is no serviceWorker");s.label=13;case 13:return[3,21];case 14:if(!ue())return[3,17];a=window.safari.pushNotification.permission(e.browsers.Safari.websitePushID).deviceToken;if(!a)return[3,16];return[4,me(e.randomPrefix,a)];case 15:s.sent();debug("added token to cache:",a);s.label=16;case 16:return[3,19];case 17:return[4,xe(e,t)];case 18:s.sent();s.label=19;case 19:return[3,21];case 20:return[2,undefined];case 21:return[2]}}))}))}function Ee(e){return ae(this,void 0,void 0,(function(){var t,r,n,i,o,a;return se(this,(function(s){switch(s.label){case 0:t=e.browser,r=e.expirationSWChrome,n=e.swPath;debug(" getPushServiceWorker","start");s.label=1;case 1:s.trys.push([1,3,,4]);return[4,fe()];case 2:i=s.sent();debug(" getPushServiceWorker","complete");debug("registration",i);return[3,4];case 3:o=s.sent();debug("err getPushServiceWorker",o);return[3,4];case 4:debug("navigator.serviceWorker.register","start");return[4,navigator.serviceWorker.register(Pe({browser:t,expirationSWChrome:r,swPath:n}))];case 5:a=s.sent();debug("navigator.serviceWorker.register","complete");debug("serviceWorkerRegistration.update","start");return[4,a.update()];case 6:s.sent();debug("serviceWorkerRegistration.update","complete");debug(a);return[2,a]}}))}))}function Te(e){return ae(this,void 0,void 0,(function(){var t,r,n,i,o;return se(this,(function(a){switch(a.label){case 0:t=e.browser,r=e.expirationSWChrome,n=e.swPath;debug("replace service worker",{browser:t,expirationSWChrome:r,swPath:n});if(!(Notification.permission==="granted"))return[3,7];debug("Notification permission is granted.");return[4,fe()];case 1:i=a.sent();console.log("Push SW status: ",Boolean(i));if(!i)return[3,2];debug("service worker is our. Aborting replace service worker.");return[3,6];case 2:debug("navigator.serviceWorker.controller, was cleaned");a.label=3;case 3:a.trys.push([3,5,,6]);debug("registerServiceWorker start");return[4,Ee({browser:t,expirationSWChrome:r,swPath:n})];case 4:a.sent();debug(" registerServiceWorker complete");return[3,6];case 5:o=a.sent();debug("err register service worker",o);return[3,6];case 6:return[3,8];case 7:debug("Notification permission is not a granted. Aborting replace service worker.");a.label=8;case 8:return[2]}}))}))}function Ie(e){return ae(this,void 0,void 0,(function(){var t,r,n,i,o,a,s,u,c,f,l,d,h,p,v,b,g;return se(this,(function(y){switch(y.label){case 0:t=e.action,r=e.provider,n=e.subscription,i=e.match,o=e.update,a=e.customData,s=e.resourceToken,u=e.serverURL,c=e.serverSavePath,f=e.serverDeletePath,l=e.serverUpdatePath,d=e.endpointOld,h=e.keysOld,p=e.supOldSubscr,v=e.inexclusive;return[4,localforage.getItem("_ak_cookie")];case 1:b=y.sent()||"";switch(t){case"save":g=u+c;break;case"delete":g=u+f;break;case"update":g=u+l;break;default:throw new Error("Unknown ".concat(t))}return[2,fetch(g,{method:"post",credentials:"include",headers:b?{"X-Cookie":b}:undefined,body:JSON.stringify(oe(oe(oe(oe(oe(oe({},a||{}),{provider:r,endpoint:n.endpoint,keys:n.keys,resource_token:s,match:JSON.stringify(i||{}),update:JSON.stringify(o||{})}),d?{endpoint_old:d}:{}),h?{keys_old:h}:{}),p&&d?{sup_old_subscr:true}:{}),v!==undefined?{inexclusive:v}:{}))}).catch((function(e){return console.error("Can't post",t,e)})).then((function(e){debug("X-Cookie:",e===null||e===void 0?void 0:e.headers.has("X-Cookie"),e===null||e===void 0?void 0:e.headers.get("X-Cookie"));if(e===null||e===void 0?void 0:e.headers.has("X-Cookie")){localforage.setItem("_ak_cookie",(e===null||e===void 0?void 0:e.headers.get("X-Cookie"))||"")}return e}))]}}))}))}function Ne(e){return ae(this,void 0,void 0,(function(){var t,r;return se(this,(function(n){switch(n.label){case 0:t=Se(e);r=Se("".concat(e,"_endpoint_"));if(!t)return[3,2];return[4,me(e,t||"")];case 1:n.sent();ke(e);return[2,t];case 2:if(!r)return[3,4];return[4,me("".concat(e,"_endpoint_"),r||"")];case 3:n.sent();ke("".concat(e,"_endpoint_"));return[2,t];case 4:return[2]}}))}))}function Ce(e,t){return ae(this,void 0,void 0,(function(){var r,n,i,o,a,s,u;return se(this,(function(c){switch(c.label){case 0:debug("firebase.messaging().getToken","start");return[4,firebase.messaging().getToken()];case 1:r=c.sent();debug("firebase.messaging().getToken","complete",r);debug("get cached token","start");return[4,_e(e.randomPrefix)];case 2:n=c.sent();debug("get cached token","complete",n);if(!(r&&n!==r))return[3,7];debug("New token detected: ",r);i={endpoint:r||""};c.label=3;case 3:c.trys.push([3,6,,7]);o=EventType.updateSubscription;a="".concat(de(e.browser||""),"Firebase");s={browser:e.browser||"",provider:a,tokenCached:n,token:r};debug("fetch subscription","start");return[4,Ie({action:"save",provider:a,subscription:i,match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,serverSavePath:e.serverSavePath,serverDeletePath:e.serverDeletePath,endpointOld:n||undefined,supOldSubscr:n?true:undefined})];case 4:c.sent();debug("fetch subscription","complete");debug("emit ".concat(o),s);t.emit(o,s);debug("saving firebase token to cache",r,"start");return[4,me(e.randomPrefix,r||"")];case 5:c.sent();debug("saving firebase token to cache",r,"complete");return[3,7];case 6:u=c.sent();console.error("Unable to subscribe",u);return[3,7];case 7:return[2]}}))}))}function xe(e,t){return ae(this,void 0,void 0,(function(){var r,n,i,o,a,s,u,c,f,l,d,h;return se(this,(function(p){switch(p.label){case 0:return[4,fe()];case 1:r=p.sent();p.label=2;case 2:p.trys.push([2,10,,11]);if(!r){debug("getPushServiceWorker has empty, exit updateSafariPWAToken");return[2]}debug("serviceWorkerRegistration.pushManager.getSubscription","start");return[4,r.pushManager.getSubscription()];case 3:n=p.sent();i=n===null||n===void 0?void 0:n.endpoint;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",n);s=(a=JSON).parse;return[4,_e("".concat(e.randomPrefix,"_keys_"))];case 4:o=s.apply(a,[p.sent()||"null"]);return[4,_e(e.randomPrefix)];case 5:u=p.sent();debug("get cached token","complete",u,"and keys",o);if(!(i&&u!==i))return[3,9];debug("tokenCached !== new token. Start save subscription");debug("New token detected:",n===null||n===void 0?void 0:n.endpoint);c=n.toJSON().keys;f=de(e.browser||"");l=EventType.updateSubscription;d={browser:e.browser||"",provider:f,token:n.endpoint,keys:c};debug("fetchSubscription","start");return[4,Ie({action:"save",provider:f,subscription:{endpoint:n.endpoint,keys:c},match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,serverSavePath:e.serverSavePath,serverDeletePath:e.serverDeletePath,serverUpdatePath:e.serverUpdatePath,endpointOld:u||undefined,keysOld:o||undefined,supOldSubscr:u?true:undefined})];case 6:p.sent();debug("fetchSubscription","complete");debug("saving token to cache",i,"and keys",c,"start");return[4,me(e.randomPrefix,i||"")];case 7:p.sent();return[4,me("".concat(e.randomPrefix,"_keys_"),JSON.stringify(c)||"")];case 8:p.sent();debug("saving token to cache",i,"and keys",c,"complete");debug("emit ".concat(l),d);t.emit(l,d);p.label=9;case 9:return[3,11];case 10:h=p.sent();console.error("Unable to subscribe",h);return[3,11];case 11:return[2]}}))}))}function je(e,t){return ae(this,void 0,void 0,(function(){var r,n,i,o,a,s,u;return se(this,(function(c){switch(c.label){case 0:debug("getPushServiceWorker","start");return[4,fe()];case 1:r=c.sent();if(!r){debug("getPushServiceWorker has empty, exit updateDefaultSubscription.");return[2]}debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration.pushManager.subscribe","start");return[4,r.pushManager.getSubscription()];case 2:n=c.sent();debug("serviceWorkerRegistration.pushManager.subscribe","complete");debug("get cached endpoint","start");return[4,_e("".concat(e.randomPrefix,"_endpoint_"))];case 3:i=c.sent();debug("get cached endpoint","complete",i);if(!(n&&i!==n.endpoint))return[3,8];c.label=4;case 4:c.trys.push([4,7,,8]);o=EventType.updateSubscription;a=de(e.browser||"");s={browser:e.browser||"",provider:a,tokenCached:i,token:n.endpoint};debug("fetch subscription","start");return[4,Ie({action:"save",provider:a,subscription:n,match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,serverSavePath:e.serverSavePath,serverDeletePath:e.serverDeletePath,endpointOld:i||undefined,supOldSubscr:i?true:undefined})];case 5:c.sent();debug("fetch subscription","complete");debug("emit ".concat(o),s);t.emit(o,s);debug("saving subscription endpoint from push manager to cache",n.endpoint,"start");return[4,me("".concat(e.randomPrefix,"_endpoint_"),n.endpoint)];case 6:c.sent();debug("saving subscription endpoint from push manager to cache",n.endpoint,"complete");return[3,8];case 7:u=c.sent();console.error("Unable to subscribe",u);return[3,8];case 8:return[2]}}))}))}var Re=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var Fe=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,s[0]&&(r=0)),r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};(function(e){var r=t()(X);function i(e){var t=e.data?JSON.parse(e.data.json().data.hub_link).open:"";var r=e.data?JSON.parse(e.data.json().data.hub_link).ack:"";fetch(t,{method:"get",mode:"no-cors",credentials:"include"}).catch((function(e){return ie("Can't send open action ",e)}));fetch(r,{method:"get",mode:"no-cors",credentials:"include"}).catch((function(e){return ie("Can't send deliv action ",e)}))}function o(t){ie("push handler firebase");ie("SW Received push: ");ie(t);console.log("spasatb push uvedomleniya",t);var r=t.data,n=r.title,i=r.message,o=r.icon,a=r.image,s=r.action,u=r.actions;var c={body:i,icon:o,image:a,click_action:s,actions:u};return e.registration.showNotification(n,c)}function a(t){var r=this;var n;ie("push safari ios handler");var i=(n=t.data)===null||n===void 0?void 0:n.json();if(i){var o=i.title,a=i.body,s=i.icon,u=i.tag,c=i.data;var f=JSON.parse(c);var l=f.hub_link.open;var d=f.hub_link.ack;ie("event data: ",i);t.waitUntil(function(){return Re(r,void 0,void 0,(function(){var t,r;return Fe(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,fetch(l,{method:"get",mode:"no-cors",credentials:"include"})];case 1:n.sent();return[3,3];case 2:t=n.sent();ie("Can't send deliv action ",t);return[3,3];case 3:n.trys.push([3,5,,6]);return[4,fetch(d,{method:"get",mode:"no-cors",credentials:"include"})];case 4:n.sent();return[3,6];case 5:r=n.sent();ie("Can't send deliv action ",r);return[3,6];case 6:return[4,e.registration.showNotification(o,{body:a,icon:s,tag:u,data:f})];case 7:n.sent();return[2]}}))}))}())}}function s(t){return Re(this,void 0,void 0,(function(){var r=this;return Fe(this,(function(n){ie("SW Click: ",t);t.notification.close();t.waitUntil(function(){return Re(r,void 0,void 0,(function(){var r;return Fe(this,(function(n){switch(n.label){case 0:r=t.notification.data.url;return[4,e.clients.matchAll({type:"window"})];case 1:n.sent();if(!r)return[3,3];return[4,e.clients.openWindow(r)];case 2:n.sent();n.label=3;case 3:return[2]}}))}))}());return[2]}))}))}function u(t){ie("push basic handler");ie("SW Received push: ");ie(t);t.waitUntil(e.registration.pushManager.getSubscription().then((function(t){ie("fetch request");return fetch(r.serverURL+r.serverPushContentPath,{method:"post",credentials:"include",body:JSON.stringify({provider:de(r.browser||""),endpoint:(t===null||t===void 0?void 0:t.endpoint)||"",resource_token:r.resourceToken})}).then((function(t){ie("fetch response: ",t);if(t.status!==200){throw new Error("Error on getting push content: ".concat(t.status))}return t.json().then((function(t){ie("fetch parse json: ",t);if(t.error){throw new Error("The server returns an error: ".concat(t.error))}var r=t.data.title;var n=t.data.body;var i=t.data.icon;var o=t.data.tag;var a=t.data.data;return e.registration.showNotification(r,{body:n,icon:i,tag:o,data:a})}))})).catch((function(e){console.error("Unable to receive data from server",e)}))})))}function c(t){ie("SW Click: ",t);if(t.notification.tag==="user_visible_auto_notification"||!t.notification.data&&t.action===""){return}t.notification.close();t.waitUntil(e.clients.matchAll({type:"window"}).then((function(){var n=t.notification.data;if(t.action!==""&&typeof t.action==="string"){n=t.action}if(n.indexOf("?provider=")===-1){if(he(r)){n="".concat(n,"?provider=").concat(de(r.browser||""),"Firebase")}else{n="".concat(n,"?provider=").concat(de(r.browser||""))}}if(e.clients.openWindow){return e.clients.openWindow(n)}return undefined})))}try{ie("sw: start install handlers");e.addEventListener("install",(function(t){e.skipWaiting()}));r.browser=ge(e.location.href);if(!r.browser){ie("clickNotificationHandler. Location: ",e.location.href,"getBrowserNameFromURL:",ge(e.location.href));throw new Error("No browser submitted")}if(he(r)){ie("sw: should use firebase");n.ZP.initializeApp({apiKey:r.firebase.apiKey,projectId:r.firebase.projectId,messagingSenderId:r.firebase.messagingSenderId,storageBucket:[r.firebase.projectId,r.firebase.bucketSubdomain].join("."),authDomain:[r.firebase.projectId,r.firebase.authSubdomain].join("."),databaseURL:[r.firebase.projectId,r.firebase.dbSubdomain].join(".")});var f=n.ZP.messaging();f.setBackgroundMessageHandler(o);e.addEventListener("notificationclick",c)}else if(r.browser==="Safari"){ie("sw: setup safari ios handlers");e.addEventListener("push",a);e.addEventListener("notificationclick",s)}else{ie("sw: setup default handlers");e.addEventListener("push",u);e.addEventListener("notificationclick",c)}}catch(e){ie("SW setup error",e)}})(self)}()})();